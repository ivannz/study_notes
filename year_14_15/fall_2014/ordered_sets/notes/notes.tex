\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}

\usepackage{graphicx, url}

\usepackage{amsmath, amsfonts, amssymb, amsthm}
%%\usepackage{xfrac}
% \usepackage{xfrac, mathptmx}

% \usepackage{mathtools}

\newcommand{\obj}[1]{{\left\{ #1 \right \}}}
\newcommand{\clo}[1]{{\left [ #1 \right ]}}
\newcommand{\clop}[1]{{\left [ #1 \right )}}
\newcommand{\ploc}[1]{{\left ( #1 \right ]}}

\newcommand{\brac}[1]{{\left ( #1 \right )}}
\newcommand{\induc}[1]{{\left . #1 \right \vert}}
\newcommand{\abs}[1]{{\left | #1 \right |}}
\newcommand{\nrm}[1]{{\left\| #1 \right \|}}
\newcommand{\brkt}[1]{{\left\langle #1 \right\rangle}}
\newcommand{\floor}[1]{{\left\lfloor #1 \right\rfloor}}

\newcommand{\Real}{\mathbb{R}}
\newcommand{\Cplx}{\mathbb{C}}
\newcommand{\Pwr}{\mathcal{P}}
\newcommand{\Ical}{\mathcal{I}}
\newcommand{\Ocal}{\mathcal{O}}
\newcommand{\Lcal}{\mathcal{L}}
\newcommand{\Tcal}{\mathcal{T}}
\newcommand{\Kcal}{\mathcal{K}}
\newcommand{\Mcal}{\mathcal{M}}
\newcommand{\Gcal}{\mathcal{G}}

\newcommand{\Ctx}{\mathbb{K}}
\newcommand{\Pat}{\mathbb{P}}
\newcommand{\supp}{\text{supp}}
\newcommand{\conf}{\text{conf}}
\newcommand{\cltc}{\mathfrak{B}}

\makeatletter
\providecommand{\bigsqcap}{%
  \mathop{%
    \mathpalette\@updown\bigsqcup
  }%
}
\newcommand*{\@updown}[2]{%
  \rotatebox[origin=c]{180}{$\m@th#1#2$}%
}
\makeatother

\def\signed #1{{\leavevmode\unskip\nobreak\hfil\penalty50\hskip2em
  \hbox{}\nobreak\hfil(#1)%
  \parfillskip=0pt \finalhyphendemerits=0 \endgraf}}


\newcommand{\notexists}{\mathop{\not\!\exists}\nolimits}

\newtheorem{prop}{Proposition}

\newcommand{\defn}{\mathop{\overset{\Delta}{=}}\nolimits}

\usepackage[english, russian]{babel}
\newcommand{\eng}[1]{\foreignlanguage{english}{#1}}
\newcommand{\rus}[1]{\foreignlanguage{russian}{#1}}

\title{Ordered structures in Data Analysis}
\author{Nazarov Ivan, \rus{101мНОД(ИССА)}\\the DataScience Collective}

\begin{document}
\maketitle

\selectlanguage{english}
\part{First module} % (fold)
\label{prt:first_module}

\selectlanguage{russian}
Пусть задан формальный контекст $\Ctx = \brac{\mathbb{G}, \mathbb{M}, \mathcal{R}}$, где $\mathbb{G} = \obj{1,\,\dots,\,8}$ -- объекты, $\mathbb{M} = \obj{a,\,b,\,\ldots,\,i}$ -- признаки, а $\mathcal{R}$ -- бинарное отношение, такое что $(g,m)\in \mathcal{R}$ тогда и только тогда, когда объект $g$ обладает признаком $m$.

Пусть множественное отображение $f^*:\Pwr(\mathbb{G})\to \Pwr(\mathbb{M})$ для любого $A\subseteq \mathbb{G}$ задано как \[f^*\brac{A}\defn \obj{\induc{ m\in \mathbb{M} }\,\forall g\in A,\,\brac{g,m}\in \mathcal{R}}\] а отображение $f_*:\Pwr(\mathbb{M})\to \Pwr(\mathbb{G})$ для любого $B\subseteq \mathbb{M}$ как \[f_*\brac{B}\defn \obj{\induc{ g\in \mathbb{G} }\,\forall m\in B,\,\brac{g,m}\in \mathcal{R}}\] Такая пара задаёт отображение Галуа на частично упорядоченных множествах $\mathbb{G}$ и $\mathbb{M}$ относительно естественного порядка вложения подмножеств на каждом из них.

Свойства этих отображений позволяют задать на подмножествах операцию замыкания. Во-первых, данные отображения $f^*$ и $f_*$ антимонотонны в том смысле, что $\phi\brac{B}\subseteq \phi\brac{A}$ если $A\subseteq B$. Во-вторых, для любых $A\subseteq \mathbb{G}$ и $B\subseteq \mathbb{M}$ для них справедливо следующее утверждение: \[A\subseteq f_*\brac{B} \Leftrightarrow\, B\subseteq f^*\brac{A}\] И в-третьих, благодаря вышеуказанным свойствам композиции $f_*\circ f^*: \Pwr(\mathbb{G})\to \Pwr(\mathbb{G})$ и $f^*\circ f_*: \Pwr(\mathbb{M})\to \Pwr(\mathbb{M})$ обладают тремя определяющими свойствами оператора замыкания: \begin{itemize}
\item для любых $X\subseteq \Omega$ справедливо $X\subseteq \text{cl}\brac{X}$
\item для любых $X\subseteq Y$ выполнено $\text{cl}\brac{X}\subseteq \text{cl}\brac{Y}$
\item $\text{cl}\brac{\text{cl}\brac{X}}=\text{cl}\brac{X}$ для любых $X\subseteq \Omega$
\end{itemize} Пусть $\text{cl}_{\mathbb{G}} \defn f_*\circ f^*$ и $\text{cl}_{\mathbb{M}} \defn f^*\circ f_*$ операторы замыкания для множеств объектов $\mathbb{G}$ и атрибутов $\mathbb{M}$ соответственно.

Формальным понятием контекста $\Ctx$ является пара $(A,B)$ подмножеств $\mathbb{G}$ и $\mathbb{M}$ соответственно, для которых справедливо, что $A=f^*\brac{B}$ и $B=f_*\brac{A}$. На самом деле можно показать, что в силу корректности определения отображения Галуа и благодаря свойствам оператора замыкания, пара является формальным понятием тогда и только тогда когда $\text{cl}_{\mathbb{G}}\brac{A} = A$ (и соответственно $\text{cl}_{\mathbb{M}}\brac{B} = B$).

Для формальных понятий $(A_1,B_1)$ и $(A_2,B_2)$ из базовых свойств отображений $f^*$ и $f_*$ вытекает, $A_1\subseteq A_2$ тогда и только тогда, когда $B_2\subseteq B_1$. На основании этого наблюдения на множестве формальных понятий естественно ввести частичный $\preceq$ на основе вложения подмножества, причём неважно на объектной или аттрибутивной части понятия. 

Пусть $(A_1,B_1)$ и $(A_2,B_2)$ формальные понятия. Тогда из свойств оператора замыкания $\text{cl}_{\mathbb{G}}$ на множестве объектов вытекает $A_1\cap A_2\subseteq \text{cl}_{\mathbb{G}}\brac{A_1\cap A_2}$, и что $\text{cl}_{\mathbb{G}}\brac{A_1\cap A_2}\subseteq \text{cl}_{\mathbb{G}}\brac{A_1}, \text{cl}_{\mathbb{G}}\brac{A_2}$, откуда из того, что $A_1$ и $A_2$ замкнуты, вытекает $\text{cl}_{\mathbb{G}}\brac{A_1\cap A_2}\subseteq A_1\cap A_2$. Аналогичное свойство выполняется для атрибутов формальных понятий: \[B_1\cap B_2 \subseteq \text{cl}_{\mathbb{M}}\brac{B_1\cap B_2} \subseteq B_1\cap B_2\] Это наблюдение, в совокупности со свойствами оператора пересечения множеств, позволяет определить на частично упорядоченном множестве формальных понятий операторы инфимума и супремума следующим образом: \begin{align*}
	\brac{A_1, B_1}\vee \brac{A_2, B_2} &\defn \brac{f^*\brac{B_1\cap B_2}, B_1\cap B_2}\\
	\brac{A_1, B_1}\wedge \brac{A_2, B_2} &\defn \brac{A_1\cap A_2, f_*\brac{A_1\cap A_2}}\\
\end{align*}
Непосредственно проверяется тот факт, что операторы, заданные таким образом, определяют решётку на частично упорядоченном множестве формальных понятий контекста.

\selectlanguage{english}
\section{Ordered sets} % (fold)
\label{sec:ordered_sets}

A poset is a pair $(P,\leq)$, where $P$ is a non-empty set and $\leq$ is a partial order on $P$ -- a reflexive, anti-symmetric and transitive binary relation.

\subsection{The convering relation} % (fold)
\label{sub:the_convering_relation}

Let $(P,\leq)$ be a poset and $x, y\in P$. We say that $x$ is \textbf{covered by} $y$, $x\prec y$ if $x\leq y$, $x\neq y$ and there is no $z\in P$ with $z\neq x, y$ such that $x \leq z \leq y$.

% \noindent\textbf{Theorem} \hfill \\
\begin{prop} If $P$ is finite then $x<y$ is equivalent to $\exists \brac{z_k}_{k=0}^m\in P$ with $x = z_0\prec z_1\prec \ldots \prec z_m = y$.
\end{prop}

\begin{proof}
$\Rightarrow$ Suppose $x,y\in P$ are such that $x<y$. Define the set \[S_{xy}\defn \obj{\induc{z\in P}\,x \leq z \leq y\,z\neq x,y}\] This proposition is proven by induction on the size of the set $S_{xy}$.

Since $P$ is finite, the set $S_{xy}$ must necessarily by finite as well. If $\abs{S_{xy}} = 0$ then $\nexists z\in P$ with $x<z<y$, whence $x_0 = x\prec y = x_1$.

Consider the case $\abs{S_{xy}}>0$ and pick any $z\in S_{xy}$. Then due to transitivity of $\leq$ on $P$ it is true that \[S_{xy} = S_{xz}\uplus \obj{z}\uplus S_{zy}\] which implies that $\abs{S_{xz}},\abs{S_{zy}}<\abs{S_{xy}}$. Thus by inductive hypothesis, there exists $\brac{x_k}_{k=0}^{n+m}\in P$ such that \[x = x_0 \prec x_1 \prec \ldots \prec x_n = z = x_n \prec x_{n+1} \prec \ldots \prec x_{n+m} = y\]

$\Leftarrow$ If $x,y\ni P$ are such that $x = x_0 \prec x_1 \prec \ldots \prec x_n = y$ for some $\brac{x_k}_{k=1}^n\in P$, then by definition of the covering relation $x_k<x_{k+1}$ for all $k=0,\ldots {n-1}$. Thus by transitivity of $\leq$ it must be true that $x<y$.

\end{proof}

% subsection the_convering_relation (end)

\subsection{Order isomorphism} % (fold)
\label{sub:order_isomorphism}

A map $\phi:(P,\leq)\to (Q,\leq)$ is \textbf{order-preserving} if $\phi(x)\leq \phi(y)$ in $Q$ for all $x,y$ with $x\leq y$ in $P$. If for all $x,y\in P$ the relation $\phi(x)\leq \phi(y)$ in $Q$ implies $x\leq y$ in $P$, then $\phi$ is called an \textbf{order-embedding}. A surjective map $\phi$ is an \textbf{order-isomorphism} is it is and order-preserving order-embedding.

What about injectivity? Well, every order-embedding is necessarily injective. If $x,y\in P$ are such that $\phi(x)=\phi(y)$ then $x\leq y$ and $y\leq x$, whence by anti-symmetry of $\leq$ on $P$ it must be true that $x=y$. Thus every order-isomorphism has a \emph{well defined order-preserving inverse}.

\begin{prop} Let $(P,\leq)$ and $(Q,\leq)$ be finite posets and $\phi:P\to Q$ be a bijective map. Then the following are equivalent: \begin{enumerate}
	\item $\phi$ is an order isomorphism
	\item $x<y$ if and only if $\phi(x)<\phi(y)$ in $Q$
	\item $x\prec y$ if and only if $\phi(x)\prec \phi(y)$ in $Q$
\end{enumerate}
\end{prop}

\begin{proof}
$1 \Rightarrow 2$ (This does not require finiteness of $P$ and $Q$). If $\phi$ is an order-isomorphism, then $x<y$ implies $\phi(x)\leq \phi(y)$ by order-preservation and $\phi(x)\neq \phi(y)$ by being an order-embedding. Conversely, if $\phi(x) < \phi(y)$, then $x\neq y$ and $x\leq y$ due to $\phi$ being an order-embedding.

$1 \Leftarrow 2$ (This does not require finiteness of $P$ and $Q$). A bijective map is necessarily surjective, and $x\leq y$ is equivalent to $\phi(x)\leq \phi(y)$ by the property in question and injectivity. Thus $\phi$ is a surjective order-preserving order-embedding.

$2 \Rightarrow 3$ (This does not require finiteness of $P$ and $Q$).Suppose $x\prec y$ in $P$ and consider $\phi(x),\phi(y)\in Q$. By definition $x<y$, which by the property implies $\phi(x)<\phi(y)$. If $\exists z\in Q$ such that $\phi(x)<z<\phi(y)$ in $Q$, then by surjectivity there must exist $v\in P$ with $z=\phi(v)$. But then $\phi(v)<\phi(y)$ and $\phi(x)<\phi(v)$ imply $v<y$ and $x<v$. Thus $v\in P$ is such that $x<v<y$, whence $x\not\prec y$ which contradicts $x\prec y$. Therefore $x\prec y$ in $P$ implies $\phi(x)\prec \phi(y)$ in $Q$.

On the other hand, if $x,y\in P$ are such that $\phi(x)\prec \phi(y)$, then $\phi(x)< \phi(y)$ implies $x<y$. Similarly, if $\exists z\in P$ with $x<z<y$, then $\phi(x)<\phi(z)<\phi(y)$ by the property, whence $\phi(x)\not\prec \phi(y)$ -- a contradiction.

$2 \Leftarrow 3$ Suppose $x<y$. Since $P$ is finite, by a theorem on covering relations, there must exist $\brac{x_k}_{k=0}^n\in P$ with $x=x_0 \prec x_1 \prec \ldots \prec x_n=y$. By transitivity of $\leq$ and the definition of $\prec$ it must be true that \[\phi(x) = \phi(x_0) \prec \phi(x_1) \prec \ldots \prec \phi(x_n) = \phi(y)\]

Conversely, if $\phi(x) < \phi(y)$ then there exist $\brac{w_k}_{k=0}^m\in Q$ such that \[\phi(x) = w_0 \prec w_1 \prec \ldots \prec w_m = \phi(y)\] Since $\phi$ is bijective there exist $\brac{x_k}_{k=0}^m\in P$ with $w_k=\phi(x_k)$. Thus $w_k = \phi(x_k)\prec \phi(x_{k+1})=w_{k+1}$ implies $x_k\prec x_{k+1}$ for all $k=0,\ldots,{m-1}$. Thus by transitivity of $\leq$ it must be true that $x_0<x_1<\ldots<x_m$, whence $x<y$.
\end{proof}

% subsection order_isomorphism (end)

\subsection{Order ideals and filters} % (fold)
\label{sub:order_ideals_and_filters}

Let $(P,\leq)$ and $Q\subseteq P$. The set $Q$ is an \textbf{order ideal} (or a \emph{downset}) if for every $y\in Q$ and $x\in P$ the relation $x\leq y$ implies $x\in Q$. \textbf{Order filters} (\emph{upsets}) are dual to order ideals. The set of all order ideals of $P$, $\Ocal(P)$, is itself a poset with respect to set inclusion partial order (it inherits its order properties from the set of subsets of $P$).

For an arbitrary subset $Q\subseteq P$ put \begin{align*}
	Q^\downarrow &\defn \obj{ \induc{ y\in P }\,\exists x\in Q,\, y\leq x }\\
	Q^\uparrow &\defn \obj{ \induc{ y\in P }\,\exists x\in Q,\, x\leq y }
\end{align*}
which are called the ``down'' and ``up'' of $Q$.

\begin{prop} A subset $Q$ of a poset $(P,\leq)$ is a downset if and only if $y^\downarrow\subseteq Q$ for all $y\in Q$.
\end{prop}

\begin{proof}
$\Rightarrow$ Indeed, if $Q$ is a downset of $P$ and $y\in Q$, then for any $w\in y^\downarrow$ it is true that $w\in P$ and $w\leq y$, whence by definition $w\in Q$. Therefore, $y^\downarrow\subseteq Q$ for every $y\in Q$.

$\Leftarrow$ Conversely, if $y\in Q$ and $x\in P$ are such that $x\leq y$ then $x\in y^\downarrow\subseteq Q$.
\end{proof}

Clearly, $Q^\downarrow$ is a downset of $P$. Indeed, if $y\in Q^\downarrow$ and $x\in P$ are such that $x\leq y$, then by definition there exists $w\in Q$ with $y\leq w$. Then by transitivity $x\leq w$ for some $w\in Q$, whence $x\in Q^\downarrow$.

Suppose $D\subseteq P$ is a downset of $P$ with $Q\subseteq D$. If $x\in Q^\downarrow$ then $x\in P$ and there is $w\in Q$ with $x\leq w$. Since $w\in Q\subseteq D$ and $D$ is a downset, by definition it must be true that $x\in D$, whence $Q^\downarrow\subseteq D$. Therefore $Q^\downarrow$ is the smallest downset containing $Q$.

\begin{prop} Let $(P,\leq)$ be a poset and $x,y\in P$. The following are equivalent: \begin{enumerate}
	\item $x\leq y$
	\item $x^\downarrow\subseteq y^\downarrow$
	\item for all $Q\in \Ocal(P)$ if $y\in Q$ then $x\in Q$
\end{enumerate}
\end{prop}

\begin{proof}
$1 \Rightarrow 2$ Suppose $x\leq y$. For every $w\in x^\downarrow$ it must be true that $w\leq x$ whence by transitivity $w\leq y$. Thus $w\in y^\downarrow$.

$1 \Leftarrow 2$ If $x^\downarrow\subseteq y^\downarrow$ then $w\leq y$ for all $w\in x^\downarrow$. In particular, $x\leq y$ as $x\in x^\downarrow$ by definition.

$2 \Rightarrow 3$ Suppose $x,y\in P$ are such that $x^\downarrow\subseteq y^\downarrow$. If $Q\in \Ocal(P)$ with $y\in Q$, then $y^\downarrow\subseteq Q$ since $y^\downarrow$ is the smallest downset containing $y$. Thus $x\in x^\downarrow\subseteq Q$.

$3 \Rightarrow 1$ Suppose $x,y\in P$ are such that $y\in Q$ implies $x\in Q$ for all $Q\in \Ocal(P)$. In particular, $y^\downarrow$ is a down set of $P$ with $y\in y^\downarrow$. Thus $x\in y^\downarrow$, whence $x\leq y$.

$1 \Rightarrow 3$ If $x\leq y$ and $Q\in \Ocal(P)$ is such that $y\in Q$, then $x\in Q$ by definition of a downset.
\end{proof}

\begin{prop} Let $(P,\leq)$ be a poset. The set of all order ideals of $P$ is closed under set union and intersection.
\end{prop}

\begin{proof}
Indeed, suppose $M,N\in \Ocal(P)$ are two order ideals of $P$. If $x\in N\cap M$ then $x^\downarrow \subseteq N,M$, whence $x^\downarrow\subseteq N\cap M$. Therefore, $N\cap M$ is a downset of $P$.

Similarly, if $x\in N\cap M$, then $x^\downarrow\subseteq N$ or $x^\downarrow\subseteq M$ since both $N$ and $M$ are order ideals. Thus, $x^\downarrow\subseteq N\cap M$ and $N\cap M \in \Ocal(P)$. 
\end{proof}

% subsection order_ideals_and_filters (end)

\subsection{Poset products} % (fold)
\label{sub:poset_products}

Let $\brac{P_i, \leq_i}_{i\in I}$ be a family of posets. The direct product of posets $(P,\leq) = \bigotimes_{i\in I} (P_i,\leq_i)$ is defined as $P\defn \prod_{i\in I} P_i$ with coordinate-wise order defined for any $x,y\in P$ as $x\leq y$ if and only if $x_i\leq_i y_i$ for all $i\in I$.

% subsection poset_products (end)

% section ordered_sets (end)

\selectlanguage{english}
\section{Lattices and complete lattices} % (fold)
\label{sec:lattices_and_complete_lattices}

Consider a partially ordered set $(P, \leq)$. A supremum, or the least upper bound, of $S\subseteq P$ is such $a\in P$ that $x\leq a$ for all $x\in S$ and for every $b\in P$ with $x\leq b$ for all $x\in S$ it is true that $a\leq b$. An infimum, or the greatest lower bound, is defined similarly: an infimum of $S\subseteq P$ is such $a\in P$ that $a\leq x$ for all $x\in S$ and for any $b\in P$ with $b\leq x$ for all $x\in S$ it is true that $b\leq a$. The definition of a supremum (an infimum), if one exists, implies that it is unique, which means that it can be unambiguously denoted by $\sup S\in P$.

\selectlanguage{english}
\subsection{Semi-lattices} % (fold)
\label{sub:semi_lattices}

Algebraically a semi-lattice is pair $(L, \diamond)$ such that $\diamond: L\times L \to L$ is idempotent, commutative and associative. From the order-theoretic approach, a join semi-lattice is a poset $(P, \leq)$ such that the supremum $\sup\obj{x, y}$ exists for every pair of $x, y \in P$. Similarly, a meet semi-lattice is a poset with a well-defined pairwise infimum operation.

\begin{prop} Algebraic and order-theoretic definitions are equivalent.
\end{prop}

\begin{proof}
$\Rightarrow$ Suppose $(P,\leq)$ is a poset with a pairwise supremum operation $\sup$.

Let $x,y,z\in P$ and define a natural binary operation $\diamond$ on $P$ as $x\diamond y \defn \sup\obj{x,y}$. Since $x$ cannot be anything but the least upper bound of itself, $x\diamond x=\sup\obj{x,x}=x$. Furthermore, $\diamond$ is commutative, because $\sup$ is by definition symmetric.

Associativity of $\diamond$ results from the following set of observations: by definition of an upper bound $x,y\leq x\diamond y$ and $x\diamond y,z \leq \brac{x\diamond y}\diamond z$, whence $x,y,z \leq \brac{x\diamond y}\diamond z$. Since $y\diamond z$ is the \emph{least} upper bound of $y$ and $z$, it must be true that $x, (y\diamond z) \leq \brac{x\diamond y}\diamond z$, which implies $x\diamond\brac{y\diamond z} \leq \brac{x\diamond y}\diamond z$. Similarly $\brac{x\diamond y}\diamond z\leq x\diamond\brac{y\diamond z}$.

Thus $\diamond$ is idempotent, associative and commutative, whence $(P,\diamond)$ is an algebraic semi-lattice. The particular semantics of the semi-lattice is determined by how the partial order $\leq$ is aligned with the defined operation $\diamond$. In the case of a supremum, the semi-lattice has join semantics.

$\Leftarrow$ Let $(L,\diamond)$ be an algebraic semi-lattice with join semantics. Properties of $\diamond$ induce a partial order relation $\trianglelefteq$ on the semi-lattice, also known as the \emph{natural partial order}. This order, however depends on the semantics of the operation $\diamond$: in a semi-lattice with join semantics for all $x,y\in L$ \[x \trianglelefteq y\text{ if and only if } x\diamond y = y\] while in a meet semi-lattice for all $x,y\in L$ \[x \trianglelefteq y\text{ if and only if } x = x\diamond y\]
	
Straightforward application of the basic properties of $\diamond$ imply that $\trianglelefteq$ is reflexive (idempotence), anti-symmetric (commutativity) and transitive (associativity).

Furthermore, if $x,y\in L$, then $x,y\trianglelefteq x\diamond y$ by definition of the partial order $\trianglelefteq$. If $a\in L$ is any other element such that $x,y\trianglelefteq a$, then by definition \[a = x \diamond a\,\text{ and }\, a = y\diamond a\] By commutativity and associativity of $\diamond$, it must be true that \[(x\diamond y)\diamond a = (a\diamond x) \diamond y = a\diamond y = a\] whence $x\diamond y\trianglelefteq a$. Thus $(L,\trianglelefteq)$ is a poset with a well-defined pairwise supremum operation.

\end{proof}

% subsection semi_lattices (end)

\selectlanguage{english}
\subsection{Complete lattices} % (fold)
\label{sub:complete_lattices}

A join semi-lattice $(P,\leq)$ is \emph{complete} if $\sup S$ exists for any subset $S\subseteq P$. Furthermore if $A\subseteq B\subseteq P$, then $x\leq \sup B$ for all $x\in A$ whence $\sup A\leq\sup B$. Thus an element $\perp \defn \sup \emptyset$ of $P$ must be the least element in $(P,\leq)$.

A triple $(L,\vee,\wedge)$ is a lattice, if $(L,\vee)$ and $(L,\wedge)$ are semi-lattices with join and meet semantics respectively, obeying the operation consistency constraint: for any $x,y\in L$ \[x = x\vee(x\wedge y) = x \wedge (x\vee y)\] A lattice $L$ is complete if $\sup S$ and $\inf S$ exist for any $S\subseteq L$.

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} Let $(P,\leq)$ be a poset. The ordered set $\Ocal(P)$ of ideals is a complete lattice with $\cap$ and $\cup$ operators.
\end{prop}

\begin{proof} Consider the poset $\brac{\Ocal(P), \subseteq}$. Set operations $\cap$ and $\cup$ inherit their idempotence, commutativity and associativity from the power set of $P$.

Let $X,Y\in \Ocal(P)$ be some order ideals of $P$. The consistency constraint is satisfied, because $X\subseteq X\cup Y$ and $X\cap Y\subseteq X$, whence \[X = X\cap(X\cup Y) = X\cup(X\cap Y)\]

Completeness follows from the fact that $\Ocal(P)$ is closed under intersection and union.
\end{proof}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} By induction on the number of elements in $X\subseteq L$, it can be shown that every non-empty finite lattice $(L,\leq)$ is complete.
\end{prop}

\begin{proof}
Since every $x\in L$ is the least upper and the greatest lower bound of itself, the statement is true for subsets $X\subseteq L$ with $\abs{X}=1$.

Consider a set $X\subseteq L$ with $\abs{X}=2$. Then, since $L$ is a lattice, both $\bigvee X$ and $\bigwedge X$ exist in $L$. Suppose for any $X\subseteq L$ with $\abs{X}<n$ both $\bigvee X, \bigwedge X \in L$.

If $X$ is partitioned into $S$ and $T$, then $x\leq \bigvee (S\cup T)$ for all $x\in S\cup T$, whence $\bigvee S,\bigvee T\leq \bigvee (S\cup T)$, provided \emph{everything exists}. Furthermore, $(\bigvee S)\vee (\bigvee T)\leq \bigvee (S\cup T)$. Conversely, \[\bigvee S,\bigvee T \leq (\bigvee S)\vee (\bigvee T)\] whence $x\leq (\bigvee S)\vee (\bigvee T)$ for all $x\in S\cap T$. Thus $\bigvee (S \cap T)\leq (\bigvee S)\vee (\bigvee T)$.

So, $X=S\cap T$, $S\cap T = \emptyset$ and $\emptyset\neq S,T\subset X$. Thus $\bigvee S$ and $\bigvee T$ exist in $L$ since $\abs{S},\abs{T}<\abs{X}$ due to finiteness of $L$ itself. Hence \[\bigvee X = (\bigvee S)\vee (\bigvee T)\] which implies that $L$ is join-complete. Completeness with respect to the meet operation if shown similarly.

Since the set of upper bound of $\emptyset$ is $L$ itself, the least upper bound of $\emptyset$ must therefore be the greatest lower bound of the whole set $L$. Similarly, $\bigwedge \emptyset = \bigvee L$.
\end{proof}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} A poset $(P,\leq)$ such that $\inf X$ exists for every $X\subseteq P$ is a complete lattice.
\end{prop}

\begin{proof}
Let $X\subseteq P$ and consider $S\defn \obj{\induc{s\in P}\,\forall x\in X\, x\leq s}$ -- the set of all upper bounds of $X$.

By assumption, $\inf S$ exists in $P$. If there is $y\in X$ with $\inf S < y$, then $y$ cannot be a lower bound of $S$, whence there must exist $z\in S$ with $\inf S\leq z<y$. Since $x\leq z$ for all $x\in X$, by transitivity of $\leq$ it must be true that $x<y$ for all $x\in X$. In particular, $y<y$ which implies $y\neq y$. Therefore, $x\leq \inf S$ for all $x\in X$.

Suppose, there is some $w\in P$ with $x\leq w$ for all $x\in X$. Then $w\in S$, whence $\inf S \leq w$. Hence, $\inf S$ is the least upper bound of $X$.

\end{proof}

% subsection complete_lattices (end)

\selectlanguage{english}
\subsection{Irreducible elements} % (fold)
\label{sub:irreducible_elements}
Let $L$ be a complete lattice. For every $x\in L$ put \begin{align*}
	x_* &\defn \sup\obj{\induc{v\in L}\,v < x}\\
	x^* &\defn \inf\obj{\induc{v\in L}\,x < v}
\end{align*} An element $x\in L$ is sup-irreducible if $x\neq x_*$, similarly an element $x\in L$ is inf-irreducible if $x\neq x^*$

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} An element $x\in L$ of a complete lattice $L$ is sup-reducible if and only if there exists $X\subseteq L$ with $x\notin X$ such that $x=\sup X$.
\end{prop}

\begin{proof}
$\Rightarrow$ Define $A_x\defn \obj{\induc{x\in L}\,v<x}$ for any $x\in L$. If $x\in L$ is sup-reducible, then by definition $x = \sup A_X$, whence $x\notin X$ and $x=\sup X$ for $X \defn A_x$.

$\Leftarrow$ Suppose $x\in L$ is such that there exists $X\subseteq L$ with $x\notin X$ and $x = \sup X$. If $y\in X\setminus A_x$ then $y\neq x$ and $y\leq x$, whence $y<x$ and $y\in A_x$, which is a contradiction. Thus $X\subseteq A_x$ which means that $x=\sup X \leq \sup A_x \leq x$, since $y<x$ for every $y\in A_x$. Thus $x$ must be sup-reducible. Infimum-reducibility is delat with analogously.
\end{proof}

% subsection irreducible_elements (end)

\selectlanguage{english}
\subsection{Dense subsets} % (fold)
\label{sub:dense_subsets}

Let $L$ be a complete lattice. A subset $X\subseteq L$ is meet-dense if for every $x\in L$ there exists $\Gamma \subseteq X$ with $x = \inf \Gamma$. A subset $X\subseteq L$ is join-dense if for every $x\in L$ there exists $\Gamma \subseteq X$ with $x = \sup \Gamma$.

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} If a subset $X$ of a complete lattice $L$ is join-dense in $L$ then for any $x\in L$ it is true that \[x = \sup\obj{\induc{v\in X}\,v\leq x}\] If $X$ is meet-dense in $L$ then $x = \inf\obj{\induc{v\in X}\,x\leq v}$ for any $x\in L$.
\end{prop}

\begin{proof}
Indeed, put $A_x\defn \obj{\induc{v\in X}\,v\leq x}$ and note that by the basic property of the least upper bound $\sup A_x\leq x$. Since $X$ is join-dense, there is $\Gamma\subseteq X$ such that $a = \sup \Gamma$. If $\sup A_x < x$ then there must exist $y\in \Gamma$ such that $\sup A_x < y \leq x$. Thus $\sup A_x < y$ implies that $y\notin A_x$, while $y\leq x$ gives $y\in A_x$. Therefore $x\leq \sup A_x$.
\end{proof}

% subsection dense_subsets (end)

\selectlanguage{english}
\subsection{Galois connections} % (fold)
\label{sub:galois_connections}

Let $(P,\leq)$ and $(Q,\preceq)$ be two posets. The pair of maps $\phi:P\to Q$ and $\psi:Q\to P$ is a Galois connection if \begin{description}
	\item[(AMON)] $p_1\leq p_2$ in $P$ implies that $\phi(p_2)\leq \phi(p_1)$ in $Q$ and $q_1\leq q_2$ in $Q$ implies that $\psi(q_2)\leq \psi(q_1)$ in $P$
	\item[(CLOS)] $q\leq \phi\brac{\psi(q)}$ in $Q$ for any $q\in Q$ and $p\leq \psi\brac{\phi(p)}$ in $P$ for any $p\in P$
\end{description} The maps $\phi$ and $\psi$ are \emph{dually adjoint} to each other.

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} A pair of maps is a Galois connection if and only if for every $p\in P$ and $q\in Q$\begin{description}
	\item[(GALOIS)] $p\leq \psi(q)$ in $P$ is equivalent to $q\leq \phi(p)$ in $Q$
\end{description}
\end{prop}

\begin{proof}
$\Rightarrow$ Indeed, for any $p\in P$ by reflexivity it is true that $\phi(p)\leq \phi(p)$, whence $p\leq \psi\brac{\phi(p)}$ by \textbf{(GALOIS)}. Similarly for $Q$. Furthermore if $p_1\leq p_2$ in $P$, then $p_1\leq p_2\leq \psi\brac{\phi(p_2)}$, which implies that $\phi(p_2)\leq \phi(p_1)$.

$\Leftarrow$ Conversely, if $p\leq \psi(q)$ then by \textbf{(AMON)} $\phi\brac{\psi(q)}\leq \phi(p)$, whence by \textbf{(CLOS)} $q\leq \phi(p)$. Similarly, if $q\leq \phi(p)$ then by \textbf{(AMON)} $\psi\brac{\phi(p)}\leq \psi(q)$ which means that $p\leq \psi(q)$ by \textbf{(CLOS)}.
\end{proof}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} If $(\phi,\psi)$ is a Galois connection, then $\phi = \phi\circ \psi\circ \phi$ and $\psi = \psi\circ \phi\circ \psi$.
\end{prop}

\begin{proof}
Indeed, for any $p\in P$ \textbf{(CLOS)} implies that $p\leq \psi\brac{\phi(p)}$, whence by \textbf{(AMON)} $\phi\brac{\psi\brac{\phi(p)}}\leq \phi(p)$. However, \textbf{(CLOS)} also implies that $\phi(p)\leq \phi\brac{\psi\brac{\phi(p)}}$, for $q=\phi(p)$. Finally, anti-symmetry of $\leq$ yields the result. The second equality is shown analogously.
\end{proof}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} A map $\phi:(P,\leq)\to (Q,\leq)$ between complete lattices has a dual adjoint if and only if for any $X\subseteq P$ it is true that \[\phi\brac{\sup X} = \inf \phi(X)\]
\end{prop}

\begin{proof}
$\Rightarrow$ Suppose $\psi$ is dually adjoint to $\phi$. Since $y\leq \sup X$ for all $y\in X$ in $P$ be completeness of $P$, it must be true that $\phi\brac{\sup X}\leq \phi(y)$ by \textbf{(AMON)}, whence $\phi\brac{\sup X}\leq \inf_{y\in X} \phi(y) = \inf \phi(X)$. However, $\inf \phi(X)\leq \phi(y)$ for all $y\in X$ by completeness of $Q$, which implies by \textbf{(GALOIS)} that $y\leq \psi\brac{\inf \phi(X)}$ for all $y\in X$, whence $\sup X\leq \psi\brac{\inf \phi(X)}$. Therefore $\inf\phi(X)\leq \phi\brac{\sup X}$ by \textbf{(GALOIS)}.

$\Leftarrow$ Suppose that $\phi\brac{\sup X} = \inf \phi(X)$. Then in particular for $p_1,p_2\in P$ with $p_1\leq p_2$ it is true that $\sup\obj{p_1,p_2} = p_2$ and \[\inf\obj{\phi(p_1),\phi(p_2)} = \phi\brac{\sup\obj{p_1,p_2}} = \phi(p_2)\] whence $\phi(p_2)\leq \phi(p_1)$.

Let $\psi:Q\to P$ be defined as $\psi(q) \defn \sup\obj{\induc{p\in P}\,q\leq \phi(p)}$. Then for any $x\in P$ by the anti-monotonicity shown above for $\phi$ and the basic properties of upper bounds in $Q$ \[\psi\brac{\phi(x)} = \sup\obj{\induc{p\in P}\,\phi(x)\leq \phi(p)} \geq \sup\obj{\induc{p\in P}\,p\leq x} = x\] since $\sup\obj{\induc{p\in P}\,p\leq x}\leq x$ and $x\leq x$. On the other hand, by construction of $\psi$ and the ``continuity'' property of $\phi$ and the properties of the greatest lower bound in $Q$ \[\phi\brac{\psi(q)} = \inf\obj{\induc{\phi(p)}\,p\in P,\,q\leq \phi(p)} \geq q\] Therefore maps $\phi$ and $\psi$ form a dually adjoint pair.
\end{proof}

% subsection galois_connections (end)

\selectlanguage{english}
\subsection{Concept lattices} % (fold)
\label{sub:concept_lattices}

A context is a triple $(G,M,I)$ where $G$ and $M$ are sets and $I$ is a relation between $G$ and $M$. For a set of objects $A\subseteq G$ define \[A'\defn \obj{\induc{m\in M}\,\forall g\in A\,(g,m)\in I}\] the set of attributes common to all objects in $A$. For a set of attributes $B\subseteq M$ put \[B'\defn \obj{\induc{g\in G}\,\forall m\in M\,(g,m)\in I}\] So $B'$ is the set of all object sharing all the attributes in $B$. The maps ${(\cdot)}'$ are \emph{the derivation operators} of the context $(G,M,I)$.

A \emph{concept} of the context $(G,M,I)$ is a pair $(A,B)$ with $A\subseteq G$ and $B\subseteq M$ such that $A'=B$ and $B'=A$. The sets $A$ and $B$ are the extent and the intent respectively, and $A$ is the extent of some concept if $A''=A$ (similarly for intents).

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} The derivation operators ${(\cdot)}'$ are a Galois connection.
\end{prop}

\begin{proof}
Indeed, let $A\subseteq G$ and $B\subseteq M$ and suppose $A\subseteq B'$. If $m\in B$, then $(g,m)\in I$ for any $g\in B'$. In particular for any $g\in A$ it is true that $(g,m)\in I$, whence $m\in A'$. So $B\subseteq A'$. Reverse implication is proven identically.
\end{proof}

If $(A_1, B_1)$ and $(A_2, B_2)$ are concepts then $A_1\subseteq A_2$ if and only if $B_2\subseteq B_1$ by \textbf{(AMON)}. Thus it is possible to define a partial order relation $\leq$ on concepts as set inclusion of extents (or reverse set inclusion of intents).

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} For any $\brac{A_j}_{j\in J}\subseteq G$ it is true that \[\brac{\bigcup_{j\in J}A_j}' = \bigcap_{j\in J} A_j'\]
\end{prop}

\begin{proof}
$\Rightarrow$ If $m\notin \bigcap_{j\in J} A_j'$ then there is $j\in J$ with $m\notin A_j'$, whence there is $g\in A_j$ such that $(g,m)\notin I$. Therefore $(g,m)\notin I$ for some $g\in \bigcup_{j\in J}A_j$, whence $m\notin \brac{\bigcup_{j\in J}A_j}'$.

$\Leftarrow$ If $m\in \bigcap_{j\in J} A_j'$ then $m\in A_j'$ for each $j\in J$, whence $(g,m)\in I$ for every $g\in A_j$ and $j\in J$. Therefore $(g,m)\in I$ for all $\bigcup_{j\in J}A_j$ and $m\in \brac{\bigcup_{j\in J} A_j}'$.

If $A_j=A_j''$ for all $j\in J$, then \[\brac{\bigcap_{j\in J}A_j}'' = \brac{\bigcap_{j\in J}A_j''}'' = \brac{\bigcup_{j\in J}A_j'}''' = \brac{\bigcup_{j\in J}A_j'}' = \bigcap_{j\in J}A_j'' = \bigcap_{j\in J}A_j \qedhere\]
\end{proof}

\subsubsection{The main theorem of FCA} % (fold)
\label{ssub:the_main_theorem_of_fca}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} The set of all formal concepts of a context $(G,M,I)$ is a complete lattice $\cltc(G,M,I)$ with join and meet operations given by \[\bigvee_{j\in J} (A_j,B_j) = \brac{ \brac{\bigcup_{j\in J} A_j}'', \bigcap_{j\in J} B_j}\] and \[\bigwedge_{j\in J} (A_j,B_j) = \brac{\bigcap_{j\in J} A_j, \brac{\bigcup_{j\in J} B_j}''}\]
\end{prop}

\begin{proof}
Indeed, for any family $\brac{A_j,B_j}_{j\in J}$ of formal concepts of $(G,M,I)$ by a previous result \[\bigcap_{j\in J} B_j = \bigcap_{j\in J} A_j' = \brac{\bigcup_{j\in J} A_j}'\] whence \[\bigvee_{j\in J} (A_j,B_j) = \brac{ \brac{\bigcup_{j\in J} A_j}'', \bigcap_{j\in J} B_j} = \brac{ \brac{\bigcup_{j\in J} A_j}'', \brac{\bigcup_{j\in J} A_j}'}\] which is clearly a concept.

Furthermore, $A_j\subseteq \bigcup_{j\in J} A_j$ for all $j\in J$ means that $\bigvee_{j\in J} (A_j,B_j)$ is an upper bound on $\brac{A_j,B_j}_{j\in J}$. If $(A,B)$ is another upper bound, then $\bigcup_{j\in J} A_j\subseteq A$ for all $j\in J$, whence \[\brac{\bigcup_{j\in J} A_j}'' \subseteq A'' = A\] by monotonicity of ${(\cdot)}''$, which implies that the proposed definition indeed yields the least upper bound.
\end{proof}

There is a very useful, yet almost obvious result: \begin{prop} For any $X\subseteq M$ it is true that \[(X',X'') = \bigwedge_{x\in X} (x',x'')\]
\end{prop}

\begin{proof}
Indeed, 
\begin{align*}
	(X',X'') &= \brac{\brac{ \bigcup_{x\in X} \obj{x} }',\brac{ \bigcup_{x\in X} \obj{x} }''} = \brac{\bigcap_{x\in X} x', \brac{\bigcap_{x\in X} x'}'} \\
	& = \brac{\bigcap_{x\in X} x', \brac{\bigcap_{x\in X} x'''}'} = \brac{\bigcap_{x\in X} x', \brac{\bigcup_{x\in X} x''}''} \\ &= \bigwedge_{x\in X} (x', x'') \qedhere
\end{align*}
\end{proof}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} For any context $(G,M,I)$ there exist maps $\gamma:G\to\cltc(G,M,I)$ and $\mu:M\to\cltc(G,M,I)$ such that $\gamma(G)$ and $\mu(M)$ are join- and meet-dense subsets of $\cltc(G,M,I)$. Furthermore, $(g,m)\in I$ if and only if $\gamma(g)\leq \mu(m)$ in $\cltc(G,M,I)$.
\end{prop}

\begin{proof}
Define a map $\gamma:G\to \cltc(G,M,I)$ for every $g\in G$ by \[\gamma(g) \defn \brac{\obj{g}'', \obj{g}'}\] The map $\gamma$ is well-defined since $A'''=A'$ for any $A\subseteq G$. Similarly a map $\mu:M\to \cltc(G,M,I)$ defined by \[\mu(m)\defn \brac{\obj{m}',\obj{m}''}\] is correct.

For any $m\in M$ the pair $\mu(m) = (m', m'')$ is called an \emph{attribute concept}, whereas the value of $\gamma(g) = (g'', g')$ is the \emph{object concept} for every $g\in G$.

Let $(A,B)$ be a concept. Then \[B = A' = \brac{\bigcup_{a\in A}\obj{a}}' = \bigcap_{a\in A} a'\] and \[A = B' = \brac{\bigcap_{a\in A} a'}' = \brac{\bigcap_{a\in A} a'''}' = \brac{\bigcup_{a\in A} a''}''\] Thus \[(A,B) = \brac{\brac{\bigcup_{a\in A} a''}'', \brac{\bigcap_{a\in A} a'}} = \bigvee_{a\in A} (a'',a') = \bigvee_{a\in A} \gamma(a) = \bigvee \gamma(A)\]

Similarly, $\mu(M)$ is meet-dense subset of $\cltc(G,M,I)$. As \[A = B' = \brac{\bigcup_{b\in B}\obj{b}}' = \bigcap_{b\in B} b'\] and \[B = A' = \brac{\bigcap_{b\in B} b'}' = \brac{\bigcap_{b\in B} b'''}' = \brac{\bigcup_{b\in B} b''}''\]
Therefore \[(A,B) = \brac{\bigcap_{b\in B} b', \brac{\bigcup_{b\in B} b''}''} = \bigwedge_{b\in B} (b', b'') = \bigwedge_{b\in B} \mu(b)=\bigwedge \mu(B)\]

Suppose $(g,m)\in I$, then $m\in g' = g'''$ and $g''\subseteq m'$ implying that $\gamma(g)\leq \mu(m)$. Conversely, if $\gamma(g)\leq \mu(m)$, then $m''\subseteq g'$, whence $g\in m''' = m'$ and $(g,m)\in I$.
\end{proof}

% \noindent \textbf{Theorem} \hfill \\
\begin{prop} Suppose $L$ is a complete lattice and there exist maps $\gamma:G\to L$ and $\mu:M\to L$ for some sets $G$ and $M$ such that $\gamma(G)$ and $\mu(M)$ are join-dense and meet-dense in $L$ respectively. For any $g\in G$ and $m\in M$ let $I\subseteq G\times M$ be such that $(g,m)\in I$ if and only if $\gamma(g)\leq \mu(m)$ in $L$. Then $L$ is isomorphic to $\cltc(G,M,I)$.
\end{prop}

\begin{proof}
Since the lattice $L$ is complete, a map $\phi:\cltc\to L$ could be correctly defined for any $(A,B)\in \cltc$ as $\phi(A,B)\defn \bigvee \gamma(A)$. If $(A_1,B_1),(A_2,B_2)\in \cltc$ are such that $(A_1,B_1)\leq(A_2,B_2)$ then $A_1\subseteq A_2$ and $\gamma(A_1)\subseteq \gamma(A_2)$, which implies that $\vee \gamma(A_1)\leq \vee \gamma(A_2)$ in $L$. Therefore $\phi(A_1,B_1)\leq \phi(A_2,B_2)$ in $L$,  and $\phi$ is order-preserving.

For any $x\in L$ define \begin{align*}
	A_x&\defn \obj{\induc{g\in G}\,\gamma(g)\leq x}\\
	B_x&\defn \obj{\induc{m\in M}\,x\leq \mu(m)}
\end{align*} Since $\gamma(G)$ is join-dense in $L$ by definition of $A_x$ it must be true that $x = \bigvee_{g\in A_x} \gamma(g)$ and similarly $x = \bigwedge_{m\in B_x} \mu(m)$ by the meet-density of $\mu(M)$.

For any $x\in L$ consider $A_x$ and $B_x$ in the context $\cltc(G,M,I)$. If $m\in A_x'$ then $(g,m)\in I$ for any $g\in A_x$, whence $\gamma(g)\leq \mu(m)$ for $g\in A_x$. Thus $\bigvee_{g\in A_x}\gamma(g)\leq\mu(m)$. Thus $x\leq \mu(m)$ and $m\in B_x$.

Conversely, if $m\in B_x$ then $\gamma(g)\leq\mu(m)$ for all $g\in A_x$, since $\bigvee_{g\in A_x}\gamma(g) = x$. Hence, $(g,m)\in I$ for all $g\in A_x$, whence $m\in A_x'$. The equality $B_x'=A_x$ follows from the meet-density of $\mu(M)$ in $L$ and is shown similarly. Therefore the pair $(A_x,B_x)\in \cltc(G,M,I)$ for any $x\in L$.

The map $\psi:L\to\cltc(G,M,I)$ defined as $\psi(x)\defn (A_x,B_x)$ is a correctly defined order-preserving map. Indeed, if $x\leq y$ in $L$, then $\gamma(g)\leq x\leq y$ for any $g\in A_x$, whence $A_x\subseteq A_y$, which implies that $(A_x,B_x)\leq (A_y,B_y)$ in $\cltc$.

Now, $\psi$ looks very much like an inverse of $\phi$. Indeed, $\phi\brac{\psi(x)} = \bigvee_{g\in A_x}\gamma(g) = x$ by join-density of $\gamma(G)$. Pick any $(A,B)\in \cltc(G,M,I)$ and let $x\defn \bigvee_{g\in A} \gamma(g)$. For any $g\in A$ it is true that $\gamma(g)\leq x$, whence $g\in A_x$ by definition. On the other hand, if $m\in B$ then $m\in A'$ and $\gamma(g)\leq \mu(m)$ for all $g\in A$, whence $x\leq \mu(m)$ as $x$ is the \emph{least upper bound} for $\gamma(A)$. Hence $m\in B_x$ and $A\subseteq A_x$ and $B\subseteq B_x$. However $(A,B),(A_x, B_x)\in \cltc(G,M,I)$, whence, in particular, $A'=B$ and $A_x'=B_x$. Thus by \textbf{(AMON)} of ${(\cdot)}'$ the inclusion $A\subseteq A_x$ is equivalent to $A = B_x' \subseteq B' = A$, which means that $A = A_x$ and $B=B_x$. Therefore $\psi\brac{\phi(A,B)}=(A,B)$.
\end{proof}

% subsubsection the_main_theorem_of_fca (end)

% subsection concept_lattices (end)

% section lattices_and_complete_lattices (end)

\section{Clarifying and reducing the context} % (fold)
\label{sec:clarifying_and_reducing_the_context}

A context $(G,M,I)$ is \textbf{clarified} if $g'=h'$ implies $g=h$ for all objects $g,h\in G$, and $m'=n'$ implies $n=m$ for every $n,m\in M$. A context is clarified by clumping objects with identical intents into a single object and replacing attributes with the same extents by a single composite attribute.

An attribute $m\in M$ is called \textbf{reducible} if there exits $X\subseteq M$ with $m\notin X$ for which $m' = X'$. A reducible object is defined similarly.

For example, if $g\in G$ is such that $g'=M$ then $g$ must be reducible since $\emptyset'=M$.

Removing reducible attributes or objects does not incur a loss of information, since $m'=X'$ implies that an object has all attributes form $X$ if and only if it possesses $m$.

\begin{prop} Consider a context $(G,M,I)$. An attribute $m\in M$ is reducible if and only if there exists $X\subseteq M$ with $m\notin X$ such that the attribute concept $\mu(m)$ is the infimum of $\mu(X)$.
\end{prop}

\begin{proof}
$\Rightarrow$ Assume $m\in M$ is reducible. Then there exists $X\subseteq M$ with $m\notin X$ such that $X'=m'$. Then since $X = \bigcup_{x\in X} \obj{x}$ it must be true that
\[\mu(m) = (m', m'') = (X',X'') = \bigwedge_{x\in X} (x',x'') = \bigwedge_{x\in X} \mu(x)\]

$\Leftarrow$ Suppose there is $X\subseteq M$ with $m\notin X$ such that $\mu(m)=\bigvee_{x\in X} \mu(X)$. Then \[m' = \bigcap_{x\in X} x' = \brac{\bigcup_{x\in X} \obj{x}}'\] whence $m$ must be reducible.
\end{proof}

\begin{prop} Let $m$ be a reducible attribute of $(G,M,I)$. Then \[
\cltc(G,M,I) \cong \cltc\brac{G,M\setminus \obj{m},I\cap ( G\times M\setminus \obj{m})}\]
\end{prop}

\begin{proof}
Since for $m$ there exists $X\subseteq M$ with $m\notin X$ and $\mu(m) = \bigwedge \mu(X)$, the set $\mu\brac{M\setminus\obj{m}}$ must be infimum dense in $\cltc(G,M,I)$. Indeed, let $(A,B)\in \cltc(G,M,I)$.Since $\mu(m)$ is inf-dense in $\cltc$ there must exist $O\subseteq M$ such that \[(A,B) = \bigwedge_{x\in O} (x', x'')\] If $m\notin O$, then $O\subseteq M\setminus \obj{m}$, whereas if $m\in O$, it must be true that
\begin{align*}
(A,B) &= \brac{\bigwedge_{x\in O\setminus \obj{m}} (x', x'')} \wedge (m', m'') \\ &= \brac{\bigwedge_{x\in O\setminus \obj{m}} (x', x'')} \wedge (X', X'') \\ &= \bigwedge_{x\in \brac{X\cup O\setminus \obj{m}}} (x', x'')
\end{align*}
Since $m\notin X$, it must be true that $X\cup O\setminus \obj{m}\subseteq M\setminus \obj{m}$. Therefore, $\mu\brac{M\setminus\obj{m}}$ is meet dense in $\cltc(G,M,I)$. Thus by the main theorem of FCA, $\cltc(G,M,I)$ is isomorphic to $\cltc\brac{G,M\setminus \obj{m},I\cap ( G\times M\setminus \obj{m})}$.
\end{proof}

\begin{prop} Let $(G,M,I)$ be a clarified context. An attribute $m$ is reducible if and only if $\mu(m)$ is an inf-reducible concept of $\cltc(G,M,I)$.
\end{prop}

\begin{proof}
$\Rightarrow$ Indeed, by a previously shown equivalence, there must exist $X\subseteq M$ with $m\notin X$ and $\mu(m) = \wedge \mu(X)$. Since $(G,M,I)$ is clarified, $m'\neq x'$ for all $x\in X$. Hence, $\mu(m)\neq \mu(x)$ for all $x\in X$, whence $\Gamma \defn \mu(X)$, is such that $\mu(m)\notin \Gamma$ and $\mu(m)=\bigwedge \Gamma$. Therefore the concept $\mu(m)$ is inf-reducible in $\cltc(G,M,I)$.

$\Leftarrow$ If $\mu(m)$ is inf-reducible in $\cltc(G,M,I)$, then for some $\Gamma\subseteq \cltc(G,M,I)$ with $\mu(m)\notin \Gamma$ it is true that $\mu(m)=\wedge \Gamma$. Since $\mu(M)$ is meet-dense in $\cltc(G,M,I)$, for every $x\in \Gamma$ there exists $J_x\subseteq M$ with $x = \bigwedge_{n\in J_x} \mu(n)$. Therefore \[\mu(m) = \bigwedge_{x\in \Gamma} \bigwedge_{n\in J_x} \mu(n) = \bigwedge_{n\in \cup_{x\in \Gamma} J_x} \mu(n)\]

Suppose $m\in J_x$ for some $x\in \Gamma$. Then $ x = \bigwedge_{n\in J_x} \mu(n) \leq \mu(m)$ while $\mu(m) = \bigwedge_{z\in \Gamma} z x$. Thus $x = \bigwedge_{n\in J_x} \mu(n) = \mu(m)$, whence $\mu(m)\in \Gamma$, which is a contradiction. Therefore $m\notin \bigcup_{x\in \Gamma} J_x$, and $m$ is a reducible attribute.
\end{proof}

\begin{prop} let $(G,M,I)$ be a context. An attribute $m\in M$ is reducible if and only if \[m' = \bigcap \obj{\induc{n'}\,n\in M,\,m'\subset n'}\]
\end{prop}

\begin{proof}
$\Leftarrow$ Indeed, if $m$ is reducible, then there exists $X\subseteq M$ with $m\notin X$ and $m'=X'$. Since \[m' = X' = \brac{\bigcup_{n\in X} \obj{n}}' = \bigcap_{n\in X} n'\] it is true that $m'\subseteq n'$ for every $n\in X$. Furthermore, since $m\notin X$ and the context is clarified, it is true that $m'\neq n'$, whence $m\subset n'$ for all $n\in X$.

Consider, $J\defn \obj{\induc{n\in M}\,m'\subset n'}$. Since $m'\subseteq m'$ for all $n\in J$ it must be true that \[m'\subseteq \bigcap_{n\in J} n'\] Furthermore, by the above it is true that $X\subseteq J$, whence \[m' = \bigcap_{n\in J} n' \subseteq \bigcap_{n\in X} n' = m'\]

$\Rightarrow$ If $m\in M$ is such that $m'=\bigcap_{n\in J} n'$ for $J\defn \obj{\induc{n\in M}\, m'\subset n'}$, then obviously $m\notin J$ and $J\subseteq M$. Thus \[m' = \bigcap_{n\in J} n' = \brac{\bigcup_{n\in J} \obj{n}}' = J' \qedhere\]

\end{proof}

% section clarifying_and_reducing_the_context (end)

% part first_module (end)

% p.~59
%%% План
%%% формальный контекст
%%% соответствие Галуа
%%% оператор замыкания
%%% формальное понятие контекста с (формальным) объемом и (формальным) содержанием
%%% Основная теорема Анализа Формальных Понятий

% Импликации на подмножествах признаков
% Псевдосодержание

% многозначные контексты
% Импликации и зависимости в реляционных базах данных
% шкалирование

% принцип достаточного основания принятия гипотез 45
% Гипотезы и родственные понятия из анализа данных
% Пространство версий между минимальными гипотезами и минимальными посылками 61-65

% Гипотезы, решетки понятий и деревья решений
% ДСМ-гипотезы для множественных свойств 67-69

% Узорные структуры: определение и связь с формальными контекстами
% контекстом представления
% Проекции узорных структур 74-80
% Порождение гипотез в проекциях

\selectlanguage{english}
\part{Second module} % (fold)
\label{prt:second_module}

\section{Implications} % (fold)
\label{sec:implications}
% 1. Импликации

Let $\brac{G,M,I}$ be a binary context and ${(\cdot)}'$ be its derivation rule (Galois connection operator).

An implication between attributes is an ordered pair of subsets of $M$, denoted by $A\to B$ for a given pair $(A,B)$.

A subset $T\subseteq M$ \textbf{respects an implication} $A\to B$ if $A\not\subseteq T$ or $B\subseteq T$ (analogous to truth-assignment in logic). Equivalently, $T$ respects $A\to B$ if it is \textbf{not} the case that $A\subseteq T$ yet $B\not\subseteq T$. Also, if $T$ respects $A\to B$ then $T$ is called a \textbf{model} of a statement $A\to B$.

Let $\Lcal$ be a collection of implications. Then $T\subseteq M$ respects $\Lcal$ if $T$ respects each implication in $\Lcal$, and in this case $T$ is called a model of $\Lcal$. An implication $A\to B$ \textbf{holds} in a set $\Tcal$ if every $T\in \Tcal$ respects $A\to B$.

An implication $A\to B$ \textbf{holds} in the context $(G,M,I)$ if it holds in the set of all object intents (intents of object concepts).

\begin{prop} An implication $A\to B$ holds in $(G,M,I)$ if and only if $A'\subseteq B'$ (or, equivalently, $B\subseteq A''$).
\end{prop}

\begin{proof}
$\Rightarrow$ Suppose $A\to B$ holds in $(G,M,I)$. By \textbf{(GALOIS)} it is true that $A\subseteq g'$ for any $g\in A'$. However every object intent respects $A\to B$, which implies that it must be true that $B\subseteq g'$ for all $g\in A'$. Therefore, $g\in B'$ and $A'\subseteq B'$.

$\Leftarrow$ Suppose $ A'\subseteq B'$ and $g\in G$. If $g\notin A'$ then $A\not\subseteq g'$. Otherwise $g\in A'$ implies $g\in B'$, whence $B\subseteq g'$. Therefore, either $A\not\subseteq g'$ or $B\subseteq g'$ for all $g\in G$. Therefore, every object intent of $(G,M,I)$ respects the implication $A\to B$, whence $A\to B$ holds in $(G,M,I)$.

Note that $A'\subseteq B'$ is equivalent to $B\subseteq A''$ by \textbf{(GALOIS)}.
\end{proof}

Thus we arrive at the familiar definition of an implication. For any $A,B\subseteq M$ an implication $A\to B$ in $(G,M,I)$ is a pair of subsets $A,B\subseteq M$ with $A'\subseteq B'$ (or $B\subseteq A''$). Implication $A\to B$ means that for each $g\in G$ with $A\subseteq g'$ it is true that $B\subseteq g'$.

\begin{prop} A subset $T\subseteq M$ respects every implication $A\to B$ that holds in $(G,M,I)$ if and only if $T''=T$.
\end{prop}

\begin{proof}
Suppose a set $T\subseteq M$ respects every implication of $(G,M,I)$. Then in particular it respects $T\to T''$, which implies that either $T\not\subseteq T$ or $T''\subseteq T$. Thus $T''=T$.

Conversely, suppose $T''=T$ and $A\to B$ is an implication in $(G,M,I)$. If $A\not\subseteq T$ then $T$ respects $A\to B$. However, if $A\subseteq T$, then $A''\subseteq T''$, whence $B\subseteq T''$. Since $T''=T$, it is therefore true that $B\subseteq T$. Hence $T$ respects the implication $A\to B$.
\end{proof}

\begin{prop} The collection of subsets of $M$ respecting all implication of the context $(G,M,I)$ is closed under arbitrary intersection.
\end{prop}

\begin{proof}
Indeed, suppose $\brac{X_j}_{j\in J}\subseteq M$ respect every implication of $(G,M,I)$. By a previous result $X_j = X_j''$ for all $j\in J$, whence \begin{align*}
\bigcap_{j\in J} X_j & = \bigcap_{j\in J} X_j'' = \brac{\bigcup_{j\in J} X_j'}' \\ &= \brac{\bigcup_{j\in J} X_j'''}' = \brac{\bigcap_{j\in J} X_j''}'' = \brac{\bigcap_{j\in J} X_j}'' \qedhere
\end{align*}
\end{proof}

\begin{prop} An implication $A\to B$ holds in $(G,M,I)$ if and only if $A\to m$ holds in $(G,M,I)$ for each $m\in B$.
\end{prop}

\begin{proof}
$\Rightarrow$ If $A\to B$ holds in $(G,M,I)$, then $A'\subseteq m'$ for all $m\in B$, because $B' = \bigcap_{m\in B} m'$. Therefore $A\to m$ holds in $(G,M,I)$.

$\Leftarrow$ If $A\to m$ holds in $(G,M,I)$ for all $m\in B$, then $\obj{m}\subseteq A''$ for each $m\in B$. Thus $B\subseteq A''$, whence $A\to B$ holds in $(G,M,I)$.
\end{proof}

\begin{prop} Implications are intents of formal concepts ordered with respect to concept order in the concept lattice.
\end{prop}
%% Импликации и решетка понятий: Если A → B, то инфимум всех признаковых понятий признаков из A в диаграмме решетки понятий лежит ниже инфимума всех признаковых понятий признаков из B.

\begin{proof}
Indeed, since $(A',A'')$ and $(B',B'')$ are concepts, $A\to B$ implies $A'\subseteq B'$ whence, $(A',A'')\leq (B',B'')$ in $\cltc(G,M,I)$. Therefore \[\bigwedge_{a\in A} (a', a'') = (A',A'') \leq (B', B'') = \bigwedge_{b\in B} (b', b'')\] On the other hand, if $(A',A'')\leq (B',B'')$ then $A'\subseteq B'$ and $A\to B$.
\end{proof}

\begin{prop} An implication $A\to m$ holds in $(G,M,I)$ if and only if $(A', A'')\leq (m', m'')$, or, equivalently, \[\bigwedge_{a\in A} (a', a'')\leq (m', m'')\]
\end{prop}

\begin{proof}
Indeed, $A\to m$ is equivalent to $m\subseteq A''$ which is equivalent to $m''\subseteq A''$. Thus $A\to B$ is equivalent to $(A', A'')\leq (m', m'')$. Therefore $A\to B$ if and only if \[\bigwedge_{a\in A} (a', a'') = (A', A'')\leq (m', m'') \qedhere\]
\end{proof}

\subsection{Armstrong rules} % (fold)
\label{sub:armstrong_rules}
% 1.1. Правила Армстронга

Let $\Lcal$ be a collection of implications in $M$. Obviously, $M$ itself respects any implication $A\to B$ in $\Lcal$. Now, suppose a collection $\brac{X_j}_{j\in J}\subseteq M$ models $\Lcal$. Let $A\to B$ be an implication of $\Lcal$ and $X\defn \bigcap_{j\in J} X_j$. If there is $j\in J$ such that $A\not\subseteq X_j$ then $A\not\subseteq X$. However if $A_j\subseteq X_j$ for all $j\in J$, then $A\subseteq X$ and it must be true that $B\subseteq X_j$ for all $j\in J$, whence $B\subseteq X$. Therefore $X = \bigcap_{j\in J} X_j$ models an arbitrary implication $A\to B$ of $\Lcal$.

An implication $A\to B$ \textbf{follows (semantically)} from a collection $\Lcal$ of implications if every model $T\subseteq M$ of $\Lcal$ is also a model of $A\to B$. A set of implications $\Lcal_2$ \textbf{follows} from a collection $\Lcal_1$ if every model of $\Lcal_1$ is also a model of $\Lcal_2$. It is straightforward to show that whenever $\Lcal_1\models\Lcal_2$ and $\Lcal_1,\Lcal_2\models \Lcal_3$, then $\Lcal_1\models\Lcal_3$. Furthermore, if $\Lcal_2\subseteq \Lcal_1$ and $\Lcal_2\models \Lcal_3$, then $\Lcal_1\models \Lcal_3$.

\textbf{Armstrong's inference rules} are like axiomatic schemes in propositional calculus, but in the context of implications on attributes. These rules define the framework for \emph{attribute logic}.

\begin{prop}[Armstrong's rules] The following inference rules are valid: \begin{description}
	\item[Reflexivity] $\emptyset\models A\to A$;
	\item[Augmentation] $A\to B\models A\cup W \to B$ for every $W\subseteq M$;
	\item[Pseudo-transitivity] $A\to B, B\cup W\to C\models A\cup W \to C$ for every $W\subseteq M$;
	\item[Additivity] $A\to B, A\to C\models A\to B\cup C$;
	\item[Projectivity] $A\to B\cup C\models A\to B$
\end{description}
In particular every model of the left hand side is necessarily a model of the right-hand side of each rule.
\end{prop}

\begin{proof}
Let $A\subseteq M$ and suppose there exists $T\subseteq M$, which does not respect $A\to A$. Then $A\subseteq T$ and $A\not\subseteq T$ simultaneously, which is a contradiction. Thus $A\to A$ is modelled by any subset of $M$.

Let $C\subseteq M$ and suppose $T\subseteq M$ does not respect $A\cup C \to B$. Then $B\not\subseteq T$ and $A\cup C \subseteq T$, whence $A\subseteq T$. Thus $T$ does not model $A\to B$.

Suppose $T\subseteq M$ is a model of both $A\to B$ and $B\cup W \to C$, but fails to respect $A\cup W\to C$. Then $A\cup W \subseteq T$ and $C\not\subseteq T$, whence $B\cup W \not\subseteq T$ as $T$ respects $B\cup w\to C$. However, $A\cup W\subseteq T$ implies that $A,W\subseteq T$, which in turn implies that $B\subseteq T$ ($T$ respects $A\to B$), whence $A\cup W\subseteq T$ -- a contradiction.

If $T\subseteq M$ does not respect $A\to B\cup C$, then $A\subseteq T$ and $B\cup C\not\subseteq T$. But $B\cup C\not\subseteq T$ implies either $B\not\subseteq T$ or $C\not\subseteq T$. Therefore either $T$ does not respect $A\to B$ or $A\to C$.

Finally, if $T\subseteq M$ does not model $A\to B$, then $A\subseteq T$ and $B\not\subseteq T$. In particular, $B\cup C\not\subseteq T$, whence $T$ does not respect $A\to B\cup C$.
\end{proof}

\begin{prop} In fact additivity and projectivity can be inferred from the other schemes.
\end{prop}

\begin{proof}
Let $\Lcal\defn \obj{A\to B, A\to C}$. Then by reflexivity, $\Lcal\models B\cup C\to B\cup C$. However, by pseudo-transitivity it is true that $A\to B, B\cup C\to B\cup C\models A\cup C\to B\cup C$, whence $\Lcal\models A\cup C\to B\cup C$. However, by pseudo-transitivity $A\to C,A\cup C\to B\cup C\models A\cup A\to B\cup C$, whence \[\Lcal\models A\to B\cup C\]

Now, $\emptyset\models B\to B$ by reflexivity and $B\to B\models B\cup C\to B$ by augmentation, whence $\emptyset\models B\cup C\to B$. Pseudo-transitivity with $W=\emptyset$ implies that $A\to B\cup C, B\cup C\to B\models A\to B$, whence $A\to B\cup C\models A\to B$ because $A\to B\cup C \models B\cup C\to B$.
\end{proof}

A collection $\Lcal$ of implications is \textbf{closed} if every implication following from $\Lcal$ is contained within $\Lcal$. A corollary of the above result is that in every closed collections of implications $\Lcal$ Armstrong's axioms are valid.
\begin{description}
	\item[Reflexivity] $A\to A\in \Lcal$;
	\item[Augmentation] If $A\to B\in \Lcal$, then $A\cup X\to B\in \Lcal$ for any $X\subseteq M$;
	\item[Pseudo-transitivity] If $A\to B, B\cup X\to Z\in \Lcal$ then $A\cup X\to Z\in \Lcal$ for all $X\subseteq M$;
	\item[Additivity] Whenever $A\to B, A\to C\in\Lcal$, then $A\to B\cup C\in \Lcal$;
	\item[Projectivity] $A\to B\cup C\in \Lcal$ implies $A\to B\in \Lcal$
\end{description}

\begin{prop} The set of all implications $\Lcal$ that hold in context $(G,M,I)$ is closed.
\end{prop}

\begin{proof}
Indeed, suppose $\Lcal\models A\to B$. Then every $X\subseteq M$ with $X=X''$ respects $A\to B$. In particular $g'=g'''$ for every $g\in G$, whence $g'$ must respect $A\to B$. Therefore $A\to B\in \Lcal$.
\end{proof}

This result implies that the collection of all implications of a context $(G,M,I)$ obeys the following rules:
\begin{enumerate}
	\item $\models A\to A$ -- self-evident.
	\item $A\to B\models A\cup X\to B$\hfill\[\brac{A\cup X}' = A'\cap X'\subseteq A'\subseteq B'\]
	\item $A\to B, A\to C\models A\to B\cup C$\hfill\[A'\subseteq B', C' \implies A'\subseteq B'\cap C' = \brac{B\cup C}'\]
	\item $A\to B, B\cup X\to Z\models A\cup X\to Z$\hfill
	\[ A'\subseteq B'\implies \brac{A\cup X}' = A'\cap X'  \subseteq B'\cap X' = \brac{B\cup X}' \subseteq Z'\]
	\item $A\to B\models A\to B\setminus A$\hfill \[B = (B\setminus A) \cup B\cap A \implies A'\subseteq B' = \brac{B\setminus A}' \cap \brac{B\cap A}'\subseteq \brac{B\setminus A}'\]
\end{enumerate}

% subsection armstrong_rules (end)

\subsection{Complete sets of implications} % (fold)
\label{sub:complete_sets_of_implications}

A subset $\Kcal$ of a collection of implications $\Lcal$ is \textbf{complete} if $\Kcal\models \Lcal$, i.e. every implication of $\Lcal$ semantically follows from $\Kcal$. If $\Kcal$ is complete in $\Lcal$ then $\Kcal\subseteq \Lcal$ and $\Kcal\models \Lcal$ imply that $T\subseteq M$ is a model of $\Kcal$ if and only if $T$ is a model of $\Lcal$. Conversely, if every model of $\Kcal$ is also a model of $\Lcal$, then $\Kcal\models \Lcal$.

A collection of implications $\Lcal$ is \textbf{redundant} if there is $A\to B\in \Lcal$ such that \[\Lcal\setminus\obj{A\to B}\models A\to B\]

A non-redundant and complete subset of implications of a formal context $(G,M,I)$ is called an \emph{implicational basis}.

%% Rewrite the section below
In order to find a complete subset of implications of some context first and foremost it is necessary to drop implications that hold in any context.

For example $\emptyset\models A\to B$ whenever $B\subseteq A$. Indeed, for any $T\subseteq M$ either $A\not\subseteq T$ and $T$ respects $A\to B$, or $A\subseteq T$, whence $B\subseteq T$ and, again, $T$ respects $A\to B$.

It is easy to see, that $A\to B\models A\to C$ whenever $C\subseteq B$.

\subsubsection{Generator basis} % (fold)
\label{ssub:generator_basis}
% 1.3. Генераторные базисы, базис Д-Г

Consider a context $(G,M,I)$ and let $A\subseteq M$ be some formal intent, i.e $A'' = A$. Any set $D\subseteq A$ with $D'' = A''$ is a \emph{generator} of $A$. The collection of all generators of $A$ is \[\text{gen}(A) \defn \obj{\induc{D\subseteq A}\, D'' = A'' }\]

Any $D\in \text{gen}(A)$ is a \emph{minimal generator} if $E''\neq D''$ for any $E\subset D$. The collection of all minimal generators of $A$ is \[\text{mingen}(A) \defn \obj{ \induc{D\in \text{gen}(A)}\, \forall E\subset D\, E\notin \text{gen}(D'')}\]

A generator $D\in\text{gen}(A)$ is non-trivial if $D\neq D''$. All non-trivial minimal generators of $A$ are gathered in the following collection \[\text{nmingen}(A) \defn \obj{\induc{D\in\text{mingen}(A)}\,D\neq D'' }\]

A generator basis of implications of $\Ctx$ is defined as \[\text{GENbas}(\Ctx)\defn \obj{\induc{ X\to \brac{X''\setminus X} }\, X\subseteq M,\, X\in \text{nmingen}(X'')}\] Hence in order to construct the generator basis of implications it is necessary to compute all closed subsets of $M$, which is equivalent to obtaining all formal concepts of $\Ctx$, and then for each \textbf{formal intent} $B\subseteq M$, find all non-trivial minimal generators $\text{mingen}(B)$.

% subsubsection generator_basis (end)

\subsubsection{Duquenne–Guigues basis} % (fold)
\label{ssub:duquenne_guigues_basis}
% 1.2. Псевдосодержания
% 1.3. Генераторные базисы, базис Д-Г

Consider a context $(G,M,I)$ with finite attribute set $M$. A subset $P\subseteq M$ is a \textbf{pseudo-intent} if $P\neq P''$ and $Q''\subseteq P$ for every pseudo-intent $Q\subseteq P$ and $Q\neq P$.

\begin{prop} The set of implications \[\Lcal \defn \obj{\induc{ P\to P'' }\, P \text{-- pseudo-intent} }\] is non-redundant and complete.
\end{prop}

\begin{proof}\hfill
\begin{description}
\item[Inclusion] \hfill \\ For any $P\to P''\in \Lcal$ it is true that $P''\subseteq \brac{P}''$ whence $\Lcal$ holds in $(G,M,I)$.

\item[Completeness] \hfill \\ Suppose $T\subseteq M$ is such that $T\neq T''$. If $T$ is a pseudo-intent, then $T\to T''$ is an implication from $\Lcal$ which is not respected by $T$ because $T''\not\subseteq T$ violates the requirement that either $T\not\subseteq T$ or $T''\subseteq T$.

If $T$ is not a pseudo-intent, then there exists a pseudo-intent $Q\subseteq T$ such that $Q''\not\subseteq T$, whence an implication $Q\to Q''$ from $\Lcal$ cannot be respected by $T$. Therefore every subset $T\subseteq M$ with $T\neq T''$ cannot be a model of $\Lcal$.
% Suppose $T\subseteq M$ is a model of $\Lcal$, but $T\neq T''$. The set $T$ cannot be a pseudo-intent, because in that case the implication $T\to T''$ would be have to be respected by $T$, which would imply that $T''\subseteq T$ and further $T'' = T$.
% If there is no pseudo-intent $P$ with $P\subset T$ then $T$ is itself a pseudo-intent. However, if $P\subset T$ for some pseudo-intent $P$, then $T$, being a model of $\Lcal$, must respect the implication $P\to P''$, whence $P''\subseteq T$, implying that $T$ is a pseudo-intent.

\item[Non-redundancy] \hfill \\ Let $Q$ be some pseudo-intent. For any pseudo-intent $P\neq Q$ either $P\not\subseteq Q$ or $P\subseteq Q$ in which case $P''\subseteq Q$ since $Q$ is a pseudo-intent. Hence $Q$ respects any implication $P\to P''$ where $P\neq Q$ is a pseudo-intent.

However, being a pseudo-intent, $Q$ cannot respect the implication $Q\to Q''$ because $Q''\neq Q$. Therefore \[\Lcal\setminus \obj{Q\to Q''}\not\models Q\to Q''\] Thus omitting any implication from $\Lcal$ results in an incomplete set of implications.
\end{description}
\end{proof}

This implicational basis is called the \textbf{Duquenne–Guigues basis}, or the \textbf{stem base}, of attribute implications, and is usually stated as \[\text{DQbas}(G,M,I)\defn \obj{\induc{ P\to \brac{P''\setminus P} }\, P \text{-- pseudo-intent} }\] since $P\to P''$ is equivalent to $P\to\brac{P''\setminus P}$.

What was the rationale behind the notion of pseudo-intents?

Seminars covered a brute force algorithm for constructing all pseudo-intents which is a carbon copy of the recursive definition given in this section. Let $P\subseteq M$ be the subset which is currently being considered: \begin{description}
	\item[Start] \hfill \\ If $\emptyset\neq \emptyset''$ then the smallest pseudo-intent is $\emptyset$. Then it is pointless to consider subsets of $M$ not including elements from $\emptyset''$ (see rule \#2).
	\item[General step] \hfill \\ Consider subsets of $M$ in order of their cardinality. If $P$ is a pseudo-intent then compute the implication $P\to P''\setminus P$.
	\item[Rule \#1]\hfill \\ If $P$ is equal to the closure of a strictly smaller $Q$, obtained at some previous step, then $P=P''$ and is not a pseudo-intent.
	\item[Rule \#2]\hfill \\ If $P$ contains a pseudo-intent $Q$, but not $Q''\setminus Q$, then $P$ is not a pseudo-intent.
	% \item[Rule \#3]\hfill \\ There definitely was a third rule here...
\end{description}

% p.~80

% 3.3.39 Let $\Kcal$ be some complete set of implications of $(G,M,I)$ and $P$ be a pseudo-intent. Then there exists $A\to B\in \Kcal$ such that $P$ does not respect $A\to B$ and $A''=P''$.

% 3.3.40 There exists an injective map from the set of all pseudo-intent into any complete set of implications.

% 3.3.41 The stem basis is the smallest complete and non-redundant.

% subsubsection duquenne_guigues_basis (end)

% subsection complete_sets_of_implications (end)

\subsection{Association rules} % (fold)
\label{sub:association_rules}
% 2. Ассоциативные правила

Let $\Ctx=\brac{G,M,I}$ be a context. An association rule of $\Ctx$ is an expression $A\to B$ where $A,B\subseteq M$ are arbitrary. Obviously any implication of $\Ctx$ is an association rule.

The \emph{support} of an association rule $A\to B$ is the ratio of objects, having attributes from both $A$ and $B$:\[\supp\brac{A\to B} = \defn \frac{\abs{\brac{A\cup B}'}}{\abs{G}}\] If $A,B\subseteq M$ are such that $A\subseteq B$, then basic properties of ${(\cdot)}'$ imply that $B'\subseteq A'$, whence $\supp(B)\leq \supp(A)$.

The \emph{confidence} an association rule is defined as \[\conf\brac{A\to B} = \defn \frac{\abs{\brac{A\cup B}'}}{\abs{A'}}\] Any implication of $\Ctx$ has confidence 1, since $A\to B$ is equivalent to $A'\subseteq B'$, which implies $\brac{A\cup B}' = A'$.

The Luxenburger basis of associative rules for the context $\Ctx$ is the following collection of \[\obj{\induc{ \text{mingen}(B)\to D'' }\,(A,B)\prec(C,D),\,(C,D),(A,B)\in \Ctx}\]

Usually the goal of association rule mining is to find all \emph{frequent} association rules with \emph{sufficient} confidence. A rule $A\to B$ is considered frequent and sufficiently confident if $\supp\brac{A\to B}\geq \alpha$ and $\conf\brac{A\to B}\geq \beta$ for a priori given thresholds $\alpha,\beta\in \clo{0,1}$.

General strategy of finding such rules is described below:
\begin{description}
	\item[Step 1] Find all intents $B$ with $\supp(B)\geq \alpha$
	\item[Step 2] For each closure $B$ find all maximal sub-intents $\brac{A_i}_{i\in I}\subseteq B$ with $\conf\brac{A_i\to B}\geq \beta$.
	\item[Step 3] For each sub-intent found in the previous step, compose rules of the form $F\to B$ for all $F\in \text{mingen}(A_i)$.
\end{description}

The definition is correct since $(A,B)$ is a formal concept of $\Ctx$ if and only if $A=A''$.

% The relation $\prec$ on a partial order $(P,\leq)$ is defined as: $a\prec b$ if and only if $a < b$ and there is no $x\in P$ with $a < x < b$.

\subsubsection{Confidence, support} % (fold)
\label{ssub:confidence_support}
% 2.1. Достоверность, поддержка
% Ami book: p.~125-
% subsubsection confidence_support (end)

\subsubsection{Hypotheses} % (fold)
\label{ssub:hypotheses}
% 2.2. Гипотезы

% subsubsection hypotheses (end)

\subsubsection{Association rule confidence -- lattice representation} % (fold)
\label{ssub:association_rule_confidence_lattice_representation}
% 2.3. Достоверность ассоциативного правила - представление в решетках

% subsubsection association_rule_confidence_lattice_representation (end)

% subsection association_rules (end)

% section implications (end)


\section{Classification} % (fold)
\label{sec:classification}

Consider a universal formal context $(\Gcal, M, \Ical)$, which contains descriptions of every object, and $G$ be some strict subset of $\Gcal$.

The restriction $(G,M,I)$ of $(\Gcal,M,\Ical)$ is called \emph{the learning context} with $I$ defined as $(g,m)\in I$ if and only if $(g,m)\in \Ical$ and $g\in G$ ($I\defn \Ical \cap G\times M$). Let ${(\cdot)}'$ be the derivation operators of $(G,M,I)$.

Suppose there is a non-trivial partition $\brac{G_c}_{c\in \mathcal{C}}$ of $G$ for some non-empty set of classes $\mathcal{C}$ with $\abs{\mathcal{C}}\geq 2$. For every $c\in \mathcal{C}$ define the set of \emph{alternative} objects $G_{-c} \defn G\setminus G_c$.

\subsection{Lazy classification} % (fold)
\label{sub:lazy_classification}
% 1.4. Ленивая классификация

Lazy classification has its roots in democratic voting. It can be used if one doesn't want to compute a complete implicational base.

Let $f\notin G$ be a new object to be classified. An object $g\in G_c$ votes for $c$ if there is no $h\in G_{-c}$ such that $g' \cap f'\subseteq h'$. The collection of votes for $c$ is thus defined as \[V_c(f) \defn\obj{ \induc{ g\in G_c }\, \nexists h\in G_{-c}\,g'\cap f'\subseteq h'}\] Then the ``electoral support'' of $f$ for $c$ is \[S_c(f)\defn \frac{V_c(f)}{\abs{G_c}}\]

A simple collective decision to assign $f$ the class $c$ is done in the following way: $f$ is assigned to a class $c$ if $S_c(f) > S_k(f)$ for all classes $k\neq c$. It is very likely that the collective vote would not assign a particular class to a new object. If the reason is that electoral support is overwhelming, $S_c(f)=1$, for at least two classes $c\in \mathcal{C}$, then $f$ is contradictory. Indecision for any other reason is means that $f$ is indeterminate.

% subsection lazy_classification (end)

\subsection{JSM-method} % (fold)
\label{sub:jsm_method}
% 4. ДСМ-метод

JSM-method is a method of classification which utilizes attribute implications. It is based on the following principle of agreement:
\begin{quote}
If two or more instances of the phenomenon under investigation have only one circumstance in common, the circumstance in which alone all the instances agree, is the cause (or effect) of the given phenomenon. \signed{John Stuart Mill, A System of Logic, Vol. 1. 1843. p. 454.}
\end{quote}

Suppose $(G,M,I)$ is a binary context and $G_+,G_-\subseteq G$ are known positive and negative examples respectively, such that $G_+\cap G_- = \emptyset$. For convenience, let's introduce the following notation: for $\epsilon\in \obj{-,+}$ put $-\epsilon \defn -$ if $\epsilon=+$ and $-\epsilon \defn +$ otherwise.

For each $\epsilon \in \obj{+,-}$ let $(G_\epsilon,M,I_\epsilon)$ be the $\epsilon$-context, where $I_\epsilon \defn I\cap (G_\epsilon\times M)$. The derivation operator in the original context ${(\cdot)}'$ and in an $\epsilon$-context it is ${(\cdot)}^\epsilon$. It it easy to demonstrate that in this setting the derivation operators of $\epsilon$-contexts can be expressed through ${(\cdot)}'$: indeed, for $A\subseteq M$ ad $X\subseteq G_\epsilon$ \begin{align*}
	X^\epsilon &= \obj{\induc{ m\in M }\, \forall g\in X\,(g,m)\in I_\epsilon} \\ &= \obj{\induc{ m\in M }\, \forall g\in X\,g\in G_\epsilon,\,(g,m)\in I} = \brac{X\cap G_\epsilon}' = X'\\
	A^\epsilon &= \obj{\induc{ g\in G_\epsilon }\, \forall m\in A\,(g,m)\in I_\epsilon} \\ &= \obj{\induc{ g\in G }\,g\in G_\epsilon,\, \forall m\in A\,(g,m)\in I} = A' \cap G_\epsilon
\end{align*}

Note that if $A\cap G_{-\epsilon} \neq \emptyset$ then \[A^\epsilon = \brac{ \bigcap_{g\in A\cap G_\epsilon} g^+ }\cap \brac{ \bigcap_{g\in A\cap G_{-\epsilon}} g^+ } = \brac{A\cap G_\epsilon}' \cap \emptyset\] since for all $m\in M$ and any $g\in A\cap G_{-\epsilon}$ it is true that $(g,m)\notin I_\epsilon$.

For each $\epsilon\in \obj{-,+}$ a JSM $\epsilon$-\emph{hypothesis} is a formal intent $A\subseteq M$ of the $\epsilon$-context such that $A^\epsilon\neq \emptyset$ and $\nexists g\in G_{-\epsilon}$ with $A\subseteq g'$. This is equivalent to $\brac{A'\cap G_\epsilon}' = A$, $A'\cap G_\epsilon\neq \emptyset$ and $A'\cap G_{-\epsilon} = \emptyset$.

Thus an $\epsilon$-hypothesis is a set of ``structural attributes common to some $\epsilon$-type examples'' and not possessed by any $(-\epsilon)$-type examples. Indeed, if there exists $g\in G_{-\epsilon}$ with $A'\subseteq g'$, then $g\in A'$, which means that this $\epsilon$-hypothesis has counter-examples and thus is falsified. Thus the main requirement is that hypotheses be non-contradictory, or be a ``counterexample forbidding hypothesis''.

\begin{prop} A JSM $\epsilon$-hypothesis is necessarily an implication in the combined learning context $\brac{ G_\pm, M \cup \obj{-,+}, I_\pm }$, where $G_\pm \defn G_+\cup G_-G_+\cup G_-$ and \[I_\pm \defn I\cap G_\pm\times M \cup G_+\times\obj{+} \cup G_-\times\obj{-}\]
\end{prop}

\begin{proof}
Indeed, if $A$ is an $\epsilon$-hypothesis, then $A\not\subseteq g'$ for all $g\in G_{-\epsilon}$ implies that $A'\cap G_{-\epsilon} = \emptyset$. Since $G_\pm = G_\epsilon \cup G_{-\epsilon}$, it is true that $A'\cap G_\epsilon = A'$, whence $A'\subseteq G_\epsilon$. However, by definition of $I_\pm$, $G_\epsilon = \epsilon'$, whence $A'\subseteq \epsilon'$. Therefore $A\to \epsilon$ is a n implication of the context $\brac{ G_\pm, M \cup \obj{-,+}, I_\pm}$.
\end{proof}

% принцип достаточного основания принятия гипотез, согласно которому порожденные гипотезы должны правильно классифицировать исходные положительные и отрицательные примеры, т.е. положительные - положительно, а отрицательные - отрицательно. При невыполнении этого условия считается, что порождение гипотез по обучающему контексту не корректно, и множество исходных примеров нуждается в пополнении.

The set of $\epsilon$-hypotheses $H_\epsilon$ is sufficiently supported if for every $g\in G_\epsilon$ there exists $h\in H_\epsilon$ with $h\subseteq g'$, i.e. the learning sample is correctly classified. The set $H_\epsilon$ has a minimal hypothesis $h_\epsilon$ if every $h\subset h_\epsilon$ is not an $\epsilon$-hypothesis.


% Ami book: p.~43-46,58-59,68-73
% Ami book: p.~60-66

% 4.1 ДСМ на бинарном контексте
% 4.2 ДСМ на небинарном со шкалированием
% 4.3 ДСМ на узорных структурах: пример на графах

% subsection jsm_method (end)

% section classification (end)

\section{Multi-valued contexts} % (fold)
\label{sec:multi_valued_contexts}
% none

Consider $\Ctx=\brac{G,M,W,I}$ -- a multi-valued contexts, with $I\subseteq G\times M\times W$ such that $(g,m,w_1)\in I$ and $(g,m,w_2)\in I$ implies $w_1=w_2$ (i.e. correspondence $I$ defines a map $I:G\times M\to W$). The context $\Ctx$ is complete if for all $g\in G$ and $m\in M$ there is $w\in W$ with $(g,m,w)\in I$. For any $g\in G$, $m\in M$ let $g(m)=m(g)=w$ for $w\in W$ with $(g,m,w)\in I$.

\subsection{Functional dependence} % (fold)
\label{sub:functional_dependence}
% 5. Функциональные зависимости (в т.ч. через решетку разбиений)

A set $Y\subseteq M$ is said to be \emph{functionally dependent} on $X\subseteq M$, $X\Rightarrow Y$, if for every $g,h\in G$ \[ \brac{ \forall m\in X,\,m(g)=m(h) } \implies \brac{ \forall n\in Y,\,n(g)=n(h) } \]
Can there be function dependence of the form $\emptyset \Rightarrow Y$ for any $Y\subseteq M$? Formally $\emptyset \Rightarrow Y$ is legitimate, since the implication is true ad vacuo.

In other words $Y$ is \emph{functionally dependent} on $X$ if and only if there exists a ``vector'' map $f: W^X\to W^Y$ such that for all $g\in G$ \[f\brac{\brac{m(g)}_{m\in X}} = \brac{n(g)}_{n\in Y}\] 

Consider a many-valued context $\brac{G,M,W,I}$ and define the following binary relation $I_F$ on $\Pwr_2{(G)}\times M$ as \[\brac{\obj{g,h},m}\in I_F \Leftrightarrow m(g)=m(h)\] where $\Pwr_2{(G)}$ is a collection of all two-element subsets of $G$. Then the following translation is true \begin{description}
	\item[Theorem]:\hfill \\
	$Y$ is functionally dependent on $S$ in $\brac{G,M,W,I}$ if and only if for the context $\mathbb{F} = \brac{\Pwr_2{(G)}, M, I_F}$ it is true that $\mathbb{F}\models X\to Y$.
\end{description}
Therefore the task of mining functional dependencies in many-valued contexts can be reduced to mining implications in a translated context.

% subsection functional_dependence (end)

\subsection{Context transformation} % (fold)
\label{sub:context_transformation}
% 3. Построение многозначного контекста из бинарного и наоборот

Scale context of an attribute $m\in M$ is $\mathbb{S}_m\defn \brac{W_m, G_m, I_m}$ defined as $m(G) \subseteq W_m$ and $I_m\defn \obj{ \induc{(g,w)}\,(g,m,w)\in I }$.

THIS SECTION IS POORLY WRITTEN!!!

% subsection context_transformation (end)

\subsection{Biclusters} % (fold)
\label{sub:biclusters}
% 6. Бикластеры
Consider a many-valued context $\Ctx=\brac{G,M,W,I}$ and suppose there is a tolerance\footnote{Tolerance is a reflexive and symmetric binary relation} relation on $W$. If $W\subseteq \Real$, then $(w_1,w_2)\in T_\theta$ if and only if $\abs{w_1-w_2}\leq \theta$ for some parameter $\theta$.

A bicluster is a pair $(A,B)$, where $A\subseteq G$ and $B\subseteq M$ with similar values of $W$:\[\forall g,h\in A,\, \forall m\in B,\,\brac{m(g), m(h)}\in T\]

A bicluster is \emph{not maximal} if there is $g\notin A$ such that $\brac{A\cup\obj{g},B}$ is a bicluster, or $\exists m\notin B$ so that $\brac{A,B\cup\obj{m}}$ us a bicluster.

% subsection biclusters (end)

% section multi_valued_contexts (end)

\section{Pattern structures} % (fold)
\label{sec:pattern_structures}
% pp.~74-76,77, lecture 7

\subsection{Semi-lattices of descriptions} % (fold)
\label{sub:semi_lattices_of_descriptions}

\subsubsection*{Subsets as descriptions} % (fold)
\label{ssub:subsets_as_descriptions}

For example, $(D,\Box) = \brac{\Pwr(M), \cup}$ -- a join semi-lattice of subsets of $M$. The lattice partial order $A\sqsubseteq B$ if and only if $A\Box B = B$ coincides with $A\subseteq B$: $A\cup B = B$ if and only if $A\subseteq B$. The naturally neutral element for $\cup$ is $\emptyset$, which implies that $\emptyset\subseteq B$ for all $B\subseteq M$. The partial order $A\subseteq B$ means that any entity which fits $A$ also fits $B$: the larger the volume of a description the more description instances it covers. The most general description is $M$ and the most pathologically specific is $\emptyset$. Note that in the $\Pwr(M)$ is actually a lattice under the usual set operations.

% subsubsection subsets_as_descriptions (end)

\subsubsection*{String descriptions} % (fold)
\label{ssub:string_descriptions}

Strings (sequences) serve as another example of a description semi-lattice. Indeed $\brac{S,\sqcap}$ with $\sqcap:S\times S\to S$ denoting the largest common prefix is a meet semi-lattice. The natural partial order $\alpha\sqsubseteq\omega$ on $S$, ``$\alpha$ is a prefix of $\omega$'', in the context of descriptions, can be translated to $\alpha$ being less specific, restrictive, than $\omega$. In turn, the operation $\alpha\sqcap\omega$ produces a description, which is more general than both $\alpha$ and $\omega$. The empty string, $\epsilon$, is thus the most general description.

% subsubsection string_descriptions (end)

\subsubsection*{Interval descriptions} % (fold)
\label{ssub:interval_descriptions}

Consider a finite collection $V = \brac{v_i}_{i\in F}$, and define \[\Ical(V) \defn \obj{ \induc{ \clo{v_i, v_j} }\, i,j\in F}\] The collection $\Ical(V)$ is finite and closed under finite intersection. Intervals form a semi-lattice structure with join semantics. Indeed, define the join map $\sqcup:\Ical(V)\times\Ical(V)\to\Ical(V)$ for any $A,B\in\Ical(V)$ as follows: \[A\sqcup_m B \defn \bigcap\obj{ \induc{ I\in \mathcal{I}_m }\,A,B\subseteq I }\] The map $\sqcup$ is well-defined, since the collection $\Ical(V)$ is finite. Commutativity and idempotence of $\sqcup$ follow straight form the definition. As for associativity, it can be shown by appealing to properties of numerical maxima and minima on finite sets. The natural partial ordering on $\Ical(V)$ is set-inclusion, and the semi-lattice order relation coincides with it. Indeed $A\sqsubseteq B$ if and only if $A\sqcup B = B$, is equivalent to $A\subseteq B$, meaning that $B$ is a covering of $A$.

Consider a finite many-valued numerical context $\brac{G,M,W,I}$, described in section~\ref{sec:multi_valued_contexts}. For any $m\in M$ put $\Ical_m \defn \Ical\brac{m(G)}$ and $\sqcup_m$ be the join map on $\Ical\brac{m(G)}$. Let \[D\defn \obj{\induc{\prod_{m\in M} I_m}\, I_m\in \mathcal{I}_m}\] and define the operator $\sqcup$ on $D$ as \[ A\sqcup B \defn \brac{A_m\sqcup_m B_m}_{m\in M}\] By construction $\sqcup$ is well-defined and satisfies algebraic requirements of a semi-lattice with join semantics. The natural order $d_1\sqsubseteq d_2$ on $(D,\sqcap)$ for any $d_1, d_2\in D$ represents the fact that the description $d_2$ is more general than $d_1$.

To allow descriptions like $\clo{a, +\infty}$ use $\bar{\Real}$ when necessary, or, even better, the topologically equivalent $\clo{-1,1}$ (homeomorphism between $\bar{\Real}$ and $\clo{-1,1}$). It is also possible to show that $(D,\cap,\sqcup)$ is a lattice.

% subsubsection interval_descriptions (end)

% subsection semi_lattices_of_descriptions (end)

\subsection{Pattern Formal Concepts} % (fold)
\label{sub:pattern_formal_concepts}
% Ami book: p.~74-82

A pattern structure is a triple $\Pat = \brac{G,(D,\sqcap), \delta}$, where $G$ is a set of objects, $(D, \sqcap)$ is a semi-lattice with meet semantics and $\delta: G\to D$ is an object-description mapping with specific properties.

Intuitively, for an arbitrary set of specific ``descriptions'' $X$ the operator $\sqcap$ produces a ``description'' $\sqcap X$ common to those provided. In other words $\sqcap X$ is a description which every description $d\in X$ fits.

The induced partial order on $(D,\sqcap)$ known as the ``subsumption'' relation is defined as $d_1\sqsubseteq d_2$ if and only if $d_1\sqcap d_2 = d_1$. Given the semantics of the semi-lattice of descriptions and the meaning ascribed to $\sqcap$, $d_1\sqsubseteq d_2$ is understood as ``$d_2$ is subsumed under a broader and less specific description $d_1$''.

It should be noted, that the semantics of the description semi-lattice can be chosen arbitrarily as long as it is in concordance with the partial order.

It was mentioned that the map $\delta$ was not arbitrary. As a matter of fact $\delta$ and the semi-lattice $(D,\sqcap)$ are required to share the following joint completeness property: \begin{description}
	\item[(Joint-Completeness)] For every subset $X\subseteq \delta(G)$ the infimum $\sqcap X$ exists in $(D,\sqcap)$.
\end{description}
Thus, the set $\delta(G)$ generates an infimum-complete sub-semi-lattice $(D_\delta, \sqcap)$ of $(D,\sqcap)$ where \[D_\delta \defn \obj{\induc{ \sqcap X }\, X\subseteq \delta(G)}\] Since the semi-lattice $(D_\delta,\sqcap)$ inherits the subsumption partial order, $(D_\delta,\sqsubseteq)$ is a poset in which every subset has an infimum, whence $(D_\delta, \sqcap)$ is in fact a complete lattice.

If $G$ is finite then Joint-Completeness property is automatically satisfied. Indeed, in this case $\delta(G)$ is finite, which means that $\bigsqcap_{d\in X} d$ can be correctly defined via induction for any subset $X\subseteq \delta(G)$, since $(D,\sqcap)$ is a semi-lattice.

If $(D,\sqcap)$ is itself a complete semi-lattice, then $\sqcap X$ exists for any $X\subseteq D$.

The derivation operators in $\Pat$, ${(\cdot)}^\diamond$, are defined as follows: \begin{align*}
	A^\diamond &\defn \bigsqcap_{g\in A} \delta(g)\\
	d^\diamond &\defn \obj{\induc{g\in G}\, d\sqsubseteq \delta(g)}
\end{align*}
It should be noted that the definition of ${(\cdot)}^\diamond$ on $\Pwr(G)$ hinges on completeness of the $(D_\delta, \sqcap)$ semi-lattice.

\begin{prop} The operator ${(\cdot)}^\diamond$ defines a Galois connection between posets $\brac{\Pwr(G),\subseteq}$ and $(D_\delta, \sqsubseteq)$.\footnote{See lecture 7 ``Pattern Structures on Graphs'', slide~20}
\end{prop}

\begin{proof}
Indeed, let $A\subseteq G$ and $d\in D_\delta$. If $d\sqsubseteq A^\diamond$ then for all $g\in A$ it is true that $d\sqsubseteq \delta(g)$, whence $A\subseteq d^\diamond$ by definition. Conversely, if $A\subseteq d^\diamond$, then $d\sqsubseteq \delta(g)$ for every $g\in A$, which implies that $d\sqsubseteq \bigsqcap_{g\in A} \delta(g)$ by completeness and the definition of an infimum.

Therefore the operator ${(\cdot)}^\diamond$ satisfies the \textbf{(GALOIS)} property and is thus a Galois connection.
\end{proof}

Since the semi-lattice $(D_\delta,\sqcap)$ is complete, it naturally has the least and the greatest elements, which are defined as \[
\mathbf{0} \defn \bigsqcap D_\delta\,\text{ and } \mathbf{1} \defn \bigsqcap \emptyset\] respectively. The element $\mathbf{0}$, the ``null description'', is a description which subsumes every other description of the given set of objects: $\mathbf{0} \sqsubseteq d$ for all $d\in D_\delta$.

% The void description. The universal description

% It is natural to assume existence of some $\epsilon \in D$, which represents an empty description, such that $\epsilon \sqsubset d$ for all $d\in D$ such that $d\neq \epsilon$. Furthermore no object in existence can have an empty description $\delta(g)\neq \epsilon$ for all $g\in G$. Algebraically $\epsilon$ is $\sqcap$-identity, a neutral element with respect to the operation $\sqcap$. In the pathological case $\emptyset^\diamond=\epsilon$.

In view of simplifying algebraic derivations in the pattern structures, it might be necessary to define a description projection map $\pi:D\to D$, with the following properties:\footnote{See lecture 7 ``Pattern Structures on Graphs'', slide~28} \begin{description}
	\item[Monotonicity] \hfill \\ The projection operation does not increase specificity of a description: $x\sqsubseteq y$ implies $\pi(x)\subseteq \pi(y)$ for any $x,y\in D$;
	\item[Generalisation] \hfill \\ The projection of any description must be less specific that the original: $\pi(x)\sqsubseteq x$ for any $x\in D$;
	\item[Idempotence] \hfill \\ Projection of a projected description yields the same projection: $\pi\brac{\pi(x)} = \pi(x)$ for all $x\in D$.
\end{description}
In effect a projection is just a modification of the object-description mapping $\delta$: $\delta \Rightarrow \pi \circ \delta$. Monotonicity of $\pi$ and associativity of $\sqcap$ imply that $\pi\brac{x\sqcap y}\sqsubseteq \pi(x)\sqcap\pi(y)$, and generalisation and idempotence of $\pi$ with associativity of $\sqcap$ imply that \[\brac{\pi(x)\sqcap\pi(y)}\sqcap (x\sqcap y) = \brac{\pi(x)\sqcap x}\sqcap \brac{\pi(y)\sqcap y} = \pi(x)\sqcap \pi(y)\] whence $\pi(x)\sqcap\pi(y)\sqsubseteq x\sqcap y$. Therefore $\pi\brac{x\sqcap y} = \pi(x)\sqcup\pi(y)$.

% subsection pattern_formal_concepts (end)

% section pattern_structures (end)

\section{Version space} % (fold)
\label{sec:version_space}
% 7. Пространство версий (последняя лекция)

TODO!!!

% section version_space (end)

% part second_module (end)

\section{Appendix: A} % (fold)
\label{sec:appendix_a}

\subsection{String monoid} % (fold)
\label{sub:string_monoid}

Consider a set of finite-length sequences of symbols $S=\cup_{k\geq0} X^k$ from some finite alphabet $X$, $X^0 \defn \obj{ \epsilon }$ with $\epsilon$ denoting the empty string. By the set $X^\infty$ denote the set of infinite strings on $X$. For any $\alpha, \omega\in S$, $\alpha=\omega$ if and only if $\alpha_i = \omega_i$ for all $i\leq m, n$, where $\alpha\in X^n$ and $\beta\in X^n$.

For any $\alpha,\omega\in S$ denote a concatenation of $\alpha$ and $\omega$ by a string $\alpha\omega$. Technically concatenation is a family of maps $\brac{\vert_{mn}}_{m,n\geq 0}:X^m\times X^n\to X^{m+n}$ defined as follows: for any $\alpha\in X^n$ and $\omega\in X^m$ \[\vert_{mn}(\alpha,\omega) \defn \brac{ \brac{x_k}_{k=1}^{n+m} }\] with $x_k=\alpha_k$ for $k=1,\ldots,n$ and $x_k = \omega_{k-n}$ for $k={n+1},\ldots,{n+m}$. By construction concatenation is associative with $\epsilon$ as the neutral element. Finite length strings thus constitute a monoid.

\subsubsection{Prefix ordering} % (fold)
\label{ssub:prefix_ordering}

For any $\alpha,\omega \in S$ the string $\alpha$ is a \emph{prefix} of $\omega$, $\alpha\sqsubseteq\omega$, if there exists $\sigma\in S$ such that $\alpha\sigma=\omega$. Note that $\epsilon$ is a prefix of any string.

The operation $\sqsubseteq$ is a partial order. Indeed $\alpha\sqsubseteq\alpha$ since $\alpha = \alpha\epsilon$. If $\alpha\sqsubseteq \omega$ and $\omega \sqsubseteq \alpha$ then $\omega=\alpha$, since $\alpha\sigma_1=\omega$ and $\omega\sigma_2=\alpha$ imply that $\alpha\sigma_1\sigma_2 = \alpha$, whence from the definition of $=$ on strings follows that $\sigma_1\sigma_2=\epsilon$ and $\sigma_1=\sigma_2=\epsilon$. Finally, $\alpha\sqsubseteq\omega$ and $\omega\sqsubseteq\gamma$ imply that $\alpha\sigma_1=\omega$ and $\omega\sigma_2=\gamma$, whence $\alpha(\sigma_1\sigma_2)=\gamma$, and $\alpha\sqsubseteq\gamma$.

If $\alpha, \beta\in S$ are such that $\alpha,\beta\sqsubseteq \omega$, then the definition of $=$ and $\sqsubseteq$ imply that either $\alpha\sqsubseteq\beta$ or $\beta\sqsubseteq\alpha$ or both. Thus the set of prefixes of any string is a total order.

% subsubsection prefix_ordering (end)

\subsubsection{String semi-lattices} % (fold)
\label{ssub:string_semi_lattice}

There is semi-lattice structure in the space of finite strings. For any $\alpha,\omega\in S$ it is natural to consider the longest common prefix (LCP) $\alpha\sqcap \omega$. Basic properties of $\sqsubseteq$ imply that the $\alpha\sqcap \omega$, if it exists, is unique. For any prefix $x$ of both $\alpha$ and $\omega$ it is true that $x\sqsubseteq \beta \alpha\sqcap\omega$. Indeed, $\abs{x}\leq \abs{\beta}$ and $x\sigma = \beta\theta$ for some $\sigma,\theta\in S$, whence $x\gamma = \beta$ for $\gamma \defn \brac{\sigma_k}_{k=1}^{\abs{\beta}-\abs{x}}$.

Existence could be shown constructively by explicitly finding the first mismatching symbol in $\alpha$ and $\omega$. Another proof is done by noting that the intersection of finite totally ordered sets is a finite totally ordered set, finiteness of which implies that it must have a maximal element. Obviously, $\alpha\sqcap \omega\sqsubseteq \alpha,\omega$ for any $\alpha,\omega\in S$. 

The operation $\sqcap:S\times S\to S$ is idempotent, since $\alpha\sqsubseteq\alpha$ and $\alpha\sqcap \alpha \sqsubseteq \alpha$. It is commutative by definition and uniqueness. Associativity follows from maximality of the common prefix, very much like associativity of infimum follows from the aspects of its definition. It is worth noting, that $\alpha\sqcap \epsilon = \epsilon$ for any $\alpha\in S$, as $\epsilon\sqsubseteq \alpha$ always.

Suppose $\alpha = \alpha\sqcap\omega$. Then $\alpha\sqsubseteq \omega$ by definition of a prefix. Conversely, if $\alpha\sqsubseteq \omega$, then for $\alpha\sqsubseteq \alpha\sqcap\omega$ by maximality of the LCP and $\alpha\sqcap\omega\sqsubseteq\alpha$. Therefore $(S,\sqcap)$ is algebraically a semi-lattice, with meet semantics.

% subsubsection string_semi_lattice (end)

% subsection string_monoid (end)

% section appendix_a (end)



\section{Appendix: B} % (fold)
\label{sec:appendix_b}

\subsection{Knaster-Tarski Theorem} % (fold)
\label{sub:knaster_tarski_theorem}

%% Knaster-Tarski theorem see KT
Consider a partially ordered set $(P,\leq)$ and let $\phi:P\to P$ be an order homomorphism: $\phi(x) \leq \phi(y)$ for all $x,y\in P$ with $x\leq y$.

%%
Knaster-Tarski theorem states that if there is an element $x_0\in P$

Suppose there is some $x_0\in P$ with $\phi(x_0)\leq x_0$. Then the set \[\Gamma \defn \obj{ \induc{x\in P}\,\phi(x)\leq x}\] is non empty.

If $x\in \Gamma$, then $\phi(x)\leq x$. But by monotonicity $\phi\brac{\phi(x)}\leq \phi(x)$, whence $\phi(x)\in \Gamma$.

Let $\omega \defn \inf_{x\in \Gamma} x$. For every $x\in \Gamma$ it must be $\omega\leq x$ which by monotonicity implies that $\phi(\omega)\leq \phi(x)\leq x$. Thus $\phi(\omega)$ is a lower bound for $\Gamma$, whence by definition of $\inf$, $\phi(\omega)\leq \omega$. Therefore $\omega\in \Gamma$. The latter by definition means that $\phi(\omega)\leq \omega$, whence $\phi(\omega)\in \Gamma$. Since $\omega$ is a lower bound of $\Gamma$, it has to be true that $\omega \leq \phi(\omega)$, whence one has found $\omega = \phi(\omega)$

% subsection knaster_tarski_theorem (end)

% section appendix_b (end)

\end{document}
